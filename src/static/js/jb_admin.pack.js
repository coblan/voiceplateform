!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=214)}([function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(a[i]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&a[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t){var n={},a=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},o=a((function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())})),i=a((function(){return document.head||document.getElementsByTagName("head")[0]})),s=null,r=0,l=[];function c(e,t){for(var a=0;a<e.length;a++){var o=e[a],i=n[o.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(u(o.parts[s],t))}else{var r=[];for(s=0;s<o.parts.length;s++)r.push(u(o.parts[s],t));n[o.id]={id:o.id,refs:1,parts:r}}}}function d(e){for(var t=[],n={},a=0;a<e.length;a++){var o=e[a],i=o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[i]?n[i].parts.push(s):t.push(n[i]={id:i,parts:[s]})}return t}function h(e,t){var n=i(),a=l[l.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function p(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function f(e){var t=document.createElement("style");return t.type="text/css",h(e,t),t}function u(e,t){var n,a,o;if(t.singleton){var i=r++;n=s||(s=f(t)),a=v.bind(null,n,i,!1),o=v.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",h(e,t),t}(t),a=x.bind(null,n),o=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(t),a=b.bind(null,n),o=function(){p(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=o()),void 0===t.insertAt&&(t.insertAt="bottom");var a=d(e);return c(a,t),function(e){for(var o=[],i=0;i<a.length;i++){var s=a[i];(r=n[s.id]).refs--,o.push(r)}e&&c(d(e),t);for(i=0;i<o.length;i++){var r;if(0===(r=o[i]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete n[r.id]}}}};var m,_=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function v(e,t,n,a){var o=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function b(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function x(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}},function(e,t,n){var a=n(32);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(108);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(125);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(139);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(202);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(8);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".msg-hide .field .msg {\n  display: none; }\n\n.field .picture {\n  position: relative; }\n  .field .picture .msg-box {\n    position: absolute;\n    left: 260px; }\n",""])},function(e,t,n){var a=n(10);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".dirty {\n  background-color: yellow; }\n",""])},function(e,t,n){var a=n(12);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".active-tab-hightlight-top .el-tabs__item.is-top.is-active {\n  color: #3e8ebd; }\n\n.active-tab-hightlight-top .el-tabs__item.is-top.is-active:after {\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 3px;\n  background-color: #3e8ebd; }\n\n.tab-full .el-tabs {\n  display: flex;\n  flex-direction: column;\n  height: 100%; }\n  .tab-full .el-tabs .el-tabs__content {\n    flex-grow: 10;\n    position: relative;\n    overflow: auto; }\n\nbody {\n  height: 100%; }\n",""])},function(e,t,n){var a=n(14);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".table.flat-head th .cell {\n  white-space: nowrap; }\n",""])},function(e,t,n){var a=n(16);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".jb-table-parent {\n  margin-bottom: 0; }\n",""])},function(e,t,n){var a=n(18);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".el-select-dropdown {\n  z-index: 99891020 !important; }\n",""])},function(e,t,n){var a=n(20);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".main-header {\n  z-index: 900;\n}\n.input-group .input-group-addon {\n  background-color: #eee;\n}\n",""])},function(e,t){ex.assign(cfg,{fields_editor:"com-suit-fields",fields_local_editor:"com-suit-fields-local"})},function(e,t){var n={created:function(){this.search_args||(this.search_args=search_args)},data:function(){return{op_funs:{},changed_rows:[],table_layout:{}}},mounted:function(){var e=this;ex.assign(this.op_funs,{save_changed_rows:function(){e.save_rows(e.changed_rows),e.changed_rows=[]},add_new:function(t){e.add_new(t)},delete:function(){e.del_selected()},get_data:function(){e.getRows()},refresh:function(){e.search()},selected_set_value:function(t){ex.each(e.selected,(function(n){n[t.field]=t.value,n._hash!=ex.hashDict(n)&&(ex.isin(n,e.changed_rows)||e.changed_rows.push(n))}))},selected_set_and_save:function(t){var n=t.row_match||"many_row";function o(n,a){var o=ex.copy(e.selected);ex.each(o,(function(e){ex.assign(e,n),t.fields_ctx&&t.fields_ctx.director_name&&(e._cache_director_name=e._director_name,e._director_name=t.fields_ctx.director_name),e[t.field]=t.value}));var i=[{fun:"save_rows",rows:o}];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(i),(function(t){t.save_rows.errors?cfg.hide_load():(ex.each(t.save_rows,(function(t){delete t._director_name,e.update_or_insert(t)})),e.clearSelection(),cfg.hide_load(2e3)),a&&a(t)}))}function i(){if(t.fields_ctx)var n=ex.copy(e.selected[0]),a=pop_edit_local(n,t.fields_ctx,(function(t,n){o(t,(function(t){t.save_rows.errors?e.$store.commit(n+"/showErrors",t.save_rows.errors):layer.close(a)}))}));else o({})}a[n](e,t)&&(t.confirm_msg?layer.confirm(t.confirm_msg,{icon:3,title:"提示"},(function(e){layer.close(e),i()})):i())},selected_pop_set_and_save:function(t){var n=t.row_match||"one_row";if(a[n](e,t)){var o=e.selected[0],i=o._director_name;o._director_name=t.fields_ctx.director_name;var s=pop_fields_layer(o,t.fields_ctx,(function(e){ex.assign(o,e),o._director_name=i,layer.close(s)}))}},ajax_row:function(t){if(0!=e.selected.length){var n=e.selected[0],a=[{fun:t.ajax_fun,row:n}];cfg.show_load(),ex.post("/d/ajax/"+t.app,JSON.stringify(a),(function(e){cfg.hide_load(2e3)}))}else cfg.showMsg("请选择一行数据")},create_child_row:function(t){if(t.fields_ctx){var n=t.fields_ctx,a={fun:"get_row",director_name:n.director_name};t.init_fields&&ex.assign(a,t.init_fields);var o=[a];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(o),(function(a){cfg.hide_load();var o=a.get_row;if(e.crt_row=o,o.carry_parents=e.parents,t.tab_name)e.$emit("operation",{fun:"switch_to_tab",tab_name:t.tab_name,row:o});else var i=pop_fields_layer(o,n,(function(n){layer.close(i),"refresh"==t.after_save?e.search():e.update_or_insert(n,o)}))}))}},director_call:function(t){function n(){cfg.show_load(),ex.director_call(t.director_name,{},(function(n){n.msg?cfg.hide_load():cfg.hide_load(2e3),t.after_call&&(e.op_funs[t.after_call](n),n.msg&&cfg.showMsg(n.msg))}))}t.confirm_msg?layer.confirm(t.confirm_msg,{icon:3,title:"提示"},(function(e){layer.close(e),n()})):n()},director_rows:function(t){var n=t.row_match||"one_row";function o(){cfg.show_load(),ex.director_call(t.director_name,{rows:e.selected},(function(n){n.msg?cfg.hide_load():cfg.hide_load(2e3),t.after_call&&(e.op_funs[t.after_call](n),n.msg&&cfg.showMsg(n.msg))}))}a[n](e,t)&&(t.confirm_msg?layer.confirm(t.confirm_msg,{icon:3,title:"提示"},(function(e){layer.close(e),o()})):o())},emitEvent:function(t){e.$emit(t)},update_or_insert:function(t){e.update_or_insert(t.new_row,t.old_row)},update_or_insert_rows:function(t){var n=t.rows;ex.each(n,(function(t){e.update_or_insert(t)}))},export_excel:function(){var t=ex.copy(e.search_args);t._perpage=5e3;var n=[{fun:"get_excel",director_name:e.director_name,search_args:t}];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(n),(function(e){cfg.hide_load();var t=e.get_excel.file_url;ex.download(t)}))},row_up:function(t){var n=t.row,a=e.rows.indexOf(n);if(a>=1)o(e.rows,a-1,a)},row_down:function(t){var n=t.row,a=e.rows.indexOf(n);if(a<e.rows.length-1)o(e.rows,a+1,a)}})},computed:{changed:function(){return 0!=this.changed_rows.length},has_select:function(){return 0!=this.selected.length}},methods:{on_operation:function(e){var t=e.fun||e.name;this.op_funs[t](e)},on_td_event:function(e){var t=e.fun||e.name;this.op_funs[t](e)},search:function(){this.search_args._page=1,this.getRows()},add_new:function(e){var t=this,n=e.fields_ctx,a={fun:"get_row",director_name:n.director_name};if(e.pre_set){var o=ex.eval(e.pre_set,{vc:t});ex.assign(a,o)}else e.init_fields&&ex.assign(a,e.init_fields);var i=[a];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(i),(function(a){cfg.hide_load();var o=a.get_row;if(t.crt_row=o,e.tab_name)t.$emit("operation",{fun:"switch_to_tab",tab_name:e.tab_name,row:o});else var i=pop_fields_layer(o,n,(function(e){t.update_or_insert(e,o),layer.close(i)}))}))},editRow:function(e){e.row,e.fields_ctx},update_or_insert:function(e,t){if(t&&!t.pk)this.rows=[e].concat(this.rows),this.row_pages.total+=1;else{var n=ex.findone(this.rows,{pk:e.pk});for(var a in e)Vue.set(n,a,e[a])}},getRows:function(){var e=this;cfg.show_load(),e.rows=[];var t=[{fun:"get_rows",director_name:e.director_name,search_args:e.search_args}];ex.post("/d/ajax",JSON.stringify(t),(function(t){e.rows=t.get_rows.rows,e.row_pages=t.get_rows.row_pages,ex.vueAssign(e.search_args,t.get_rows.search_args),e.footer=t.get_rows.footer,e.parents=t.get_rows.parents,e.table_layout=t.get_rows.table_layout,cfg.hide_load()}))},get_page:function(e){this.search_args._page=e,this.getRows()},get_search_args:function(){return this.search_args},save_rows:function(e){var t=[{fun:"save_rows",rows:e}];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(t),(function(t){ex.each(e,(function(e){var n=ex.findone(t.save_rows,{pk:e.pk});ex.assign(e,n)})),cfg.hide_load(2e3)}))},clear:function(){this.rows=[],this.row_pages={}},del_selected:function(){var e=this;layer.confirm("真的删除吗?",{icon:3,title:"确认"},(function(t){layer.close(t),cfg.show_load();var n=[{fun:"del_rows",rows:e.selected}];ex.post("/d/ajax",JSON.stringify(n),(function(t){cfg.hide_load(500),e.search()}))}))},get_attr:function(e){return null!=e&&(e.startsWith("!")?!this[e=(e=e.slice(1)).trim()]:this[e=e.trim()])}}},a={one_row:function(e,t){return 1==e.selected.length||(cfg.showMsg("请选择一行数据！"),!1)},many_row:function(e,t){return 0!=e.selected.length||(cfg.showMsg("请至少选择一行数据！"),!1)},one_row_match:function(e,t){if(1!=e.selected.length)return cfg.showMsg("请选择一行数据！"),!1;var n=t.match_field,a=t.match_values,o=t.match_msg,i=e.selected[0];return!!ex.isin(i[n],a)||(cfg.showMsg(o),!1)},many_row_match:function(e,t){if(0==e.selected.length)return cfg.showMsg("请至少选择一行数据！"),!1;for(var n=t.match_field,a=t.match_values,o=t.match_msg,i=0;i<e.selected.length;i++){var s=e.selected[i];if(!ex.isin(s[n],a))return cfg.showMsg(o),!1}return!0}};function o(e,t,n){var a=e[t];return e.splice(t,1,e[n]),e.splice(n,1,a),e}window.mix_table_data=n},function(e,t){var n={mounted:function(){eventBus.$on("content_resize",this.resize),eventBus.$on("openlayer_changed",this.refreshSize)},computed:{columns:function(){var e=this,t=[{width:60,titleAlign:"center",columnAlign:"center",type:"selection",isFrozen:!0}],n=ex.map(this.heads,(function(t){var n=ex.copy(t),a={field:t.name,title:t.label,isResize:!0};return t.editor&&(a.componentName=t.editor),ex.isin(t.name,e.row_sort.sortable)&&(a.orderBy=""),ex.assign(n,a),n.width||(n.width=200),n}));return t=t.concat(n)}},methods:{refreshSize:function(){this.$refs.vtable.resize()},resize:function(){var e=this;$(e.$refs.vtable.$el).find(".v-table-rightview").css("width","100%"),$(e.$refs.vtable.$el).find(".v-table-header").css("width","100%"),$(e.$refs.vtable.$el).find(".v-table-body").css("width","100%");var t=setInterval((function(){e.$refs.vtable.resize()}),50);setTimeout((function(){clearInterval(t)}),600)},on_perpage_change:function(e){this.search_args._perpage=e,this.search_args._page=1,this.getRows()},sortChange:function(e){var t=this;ex.each(this.row_sort.sortable,(function(n){if(e[n])return"asc"==e[n]?t.search_args._sort=n:t.search_args._sort="-"+n,"break"})),this.get_data()}}};window.mix_v_table_adapter=n},function(e,t,n){n(25);var a={mounted:function(){this.search_args._sort||Vue.set(this.search_args,"_sort","")},watch:{"search_args._sort":function(e){!e&&this.$refs.e_table&&this.$refs.e_table.clearSort()}},methods:{is_sort:function(e){return!!ex.isin(e.name,this.row_sort.sortable)&&"custom"},is_show_tooltip:function(e){return null==e.show_tooltip||e.show_tooltip},handleSelectionChange:function(e){this.selected=e},clearSelection:function(){this.selected=[],this.$refs.e_table.clearSelection()},sortChange:function(e){e.prop?"ascending"==e.order?this.search_args._sort=e.prop:"descending"==e.order&&(this.search_args._sort="-"+e.prop):this.search_args._sort="",this.search()},on_perpage_change:function(e){this.search_args._perpage=e,this.search_args._page=1,this.getRows()}}};window.mix_ele_table_adapter=a},function(e,t,n){var a=n(26);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".table .el-table__row > td, .table tr > th, table.el-table__footer tr > td {\n  padding: 2px 0; }\n",""])},function(e,t){var n={data:function(){return{op_funs:{}}},mounted:function(){var e=this;ex.assign(this.op_funs,{save:function(){e.submit()},submit:function(){e.submit()}}),e.setErrors({}),this.head&&(this.head.style&&ex.append_css(this.head.style),this.head.css&&ex.append_css(this.head.css),this.head.init_express&&ex.eval(this.head.init_express,{row:this.row,ps:this.parStore,cs:this.childStore,vc:this}),ex.vueEventRout(this,this.head.event_slots))},created:function(){var e=this;ex.each(this.heads,(function(t){if("string"==typeof t.readonly){t._org_readonly=t.readonly;var n=ex.eval(t._org_readonly,{row:e.row});Vue.set(t,"readonly",n)}"string"==typeof t.required&&(t._org_required=t.required,t.required=ex.eval(t._org_required,{row:e.row}))}))},computed:{normed_heads:function(){var e=this;ex.each(e.heads,(function(t){if(t._org_readonly){var n=ex.eval(t._org_readonly,{row:e.row});Vue.set(t,"readonly",n)}t._org_required&&(t.required=ex.eval(t._org_required,{row:e.row}))}));var t=ex.filter(e.heads,(function(t){return!t.sublevel&&(!t.show||ex.eval(t.show,{row:e.row}))}));return ex.each(e.heads,(function(t){t.express&&ex.vueAssign(t,ex.eval(t.express,{row:e.row}))})),t},normed_ops:function(){var e=this;return ex.filter(this.ops,(function(t){return!t.show||ex.eval(t.show,{vc:e})}))}},methods:{on_operation:function(e){if(e.action)ex.eval(e.action,{vc:this,row:this.row,head:this.head});else{var t=e.fun||e.name;this.op_funs[t](e.kws)}},on_field_event:function(e){var t=e.fun||e.name;this.op_funs[t](e)},get_data:function(){this.data_getter(this)},setErrors:function(e){var t=this;e=ex.copy(e);this.heads&&(ex.each(this.heads,(function(n){e[n.name]?(Vue.set(n,"error",e[n.name].join(";")),delete e[n.name]):n.error&&(Vue.set(n,"error",""),$(t.$el).find("[name=".concat(n.name,"]")).trigger("hidemsg"))})),ex.isEmpty(e)||cfg.showMsg(JSON.stringify(e)))},dataSaver:function(e){var t=[{fun:"save_row",row:this.row}];ex.post("/d/ajax",JSON.stringify(t),(function(t){e(t.save_row)}))},submit:function(){var e=this;return this.setErrors({}),ex.vueBroadCall(e,"commit"),new Promise((function(t,n){Vue.nextTick((function(){e.isValid()&&e.save().then((function(e){t(e)})).then((function(){}))}))}))},save:function(){var e=this,t=this;cfg.show_load();this.row;return this.old_row=ex.copy(this.row),new Promise((function(n,a){ex.director_call("d.save_row",{row:e.row}).then((function(a){cfg.hide_load();var o=a;o.errors?(t.setErrors(o.errors),t.showErrors(o.errors)):o._outdate?layer.confirm(o._outdate,{icon:3,title:"提示",btn:["刷新数据","仍然保存","取消"],btn3:function(e,t){layer.close(e)}},(function(e,n){layer.close(e),ex.director_call(t.row._director_name,{pk:t.row.pk}).then((function(e){ex.vueAssign(t.row,e.row)}))}),(function(e){layer.close(e),t.row.meta_overlap_fields="__all__",t.submit()})):(ex.vueAssign(t.row,o.row),e.head&&e.head.after_save&&"string"==typeof e.head.after_save?ex.eval(e.head.after_save,{ps:t.parStore,vc:t,row:o.row}):(t.after_save(o.row),a.msg||o.msg?cfg.showMsg(a.msg||o.msg):cfg.toast("操作成功！",{time:1e3})),t.setErrors({}),t.$emit("finish",o.row),n(o.row))}))}))},after_save:function(e){this.par_row&&this.par_row._director_name==e._director_name&&this.par_row.pk==e.pk&&ex.vueAssign(this.par_row,e)},showErrors:function(e){},clear:function(){this.row={},this.set_errors({})}}};window.mix_fields_data=n},function(e,t){var n={mounted:function(){this.update_nice()},computed:{head_fv_rules:function(){var e=[];return ex.each(this.heads,(function(t){var n="";t.required&&(n+="required"),t.fv_rule&&(n+=t.fv_rule),e.push(t.name+n)})),e.join(";")}},watch:{head_fv_rules:function(){this.update_nice()}},methods:{get_head_fv_rule:function(e){var t=[];return e.fv_rule&&t.push(e.fv_rule),e.required&&(e.fv_rule&&-1!=e.fv_rule.search("required")||t.push("required")),e.validate_showError?{rule:t.join(";"),msg:e.fv_msg,msgClass:"hide",invalid:function(t,n){var a=e.label;ex.eval(e.validate_showError,{msg:a+" : "+n.msg})}}:{rule:t.join(";"),msg:e.fv_msg}},update_nice:function(){var e={};ex.each(this.heads,(function(t){var n=[];t.readonly||(t.fv_rule&&n.push(t.fv_rule),t.required&&(t.fv_rule&&-1!=t.fv_rule.search("required")||n.push("required")),t.validate_showError?e[t.name]={rule:n.join(";"),msg:t.fv_msg,msgClass:"hide",invalid:function(e,n){t.label;ex.eval(t.validate_showError,{msg:n.msg,head:t})},valid:function(e,n){ex.eval(t.validate_clearError,{head:t})}}:e[t.name]={rule:n.join(";"),msg:t.fv_msg})})),this.nice_validator=$(this.$el).validator({fields:e})},isValid:function(){return this.nice_validator.isValid()},showErrors:function(e){var t=$(this.$el).find(".real-input");for(var n in 0!=t.length&&t.trigger("showmsg",["error",e[n].join(";")]),e){var a=ex.findone(this.heads,{name:n});a&&a.validate_showError?ex.eval(a.validate_showError,{head:this.head,msg:e[n].join(";")}):$(this.$el).find("[name="+n+"]").trigger("showmsg",["error",e[n].join(";")])}}}};window.mix_nice_validator=n},function(e,t){var n={props:["tab_head","par_row"],data:function(){var e=this.tab_head.row||{};return{heads:this.tab_head.heads,ops:this.tab_head.ops,errors:{},row:e}},mixins:[mix_fields_data,mix_nice_validator],template:'<div class="flex-v"  style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;padding-bottom: 1rem;">\n\n    <div>\n        <div class=\'field-panel suit\' id="form" >\n            <field  v-for=\'head in normed_heads\' :key="head.name" :head="head" :row=\'row\'></field>\n        </div>\n    </div>\n\n    <div class="oprations" style="margin-left: 3em;margin-top: 2em;">\n        <component v-for="op in ops" :is="op.editor" :ref="\'op_\'+op.name" :head="op" @operation="on_operation(op)"></component>\n    </div>\n    </div>\n    </div>',mounted:function(){this.tab_head.row||this.get_data()},methods:{data_getter:function(){var e=this,t=a[e.tab_head.get_data.fun],n=e.tab_head.get_data.kws;t(e,(function(t){e.row=t}),n)},after_save:function(e){this.tab_head.after_save&&(0,o[this.tab_head.after_save.fun])(this,e,this.tab_head.after_save.kws);this.row=e}}};Vue.component("com_tab_fields",n);var a={get_row:function(e,t,n){var a=n.director_name,o=n.relat_field,i={fun:"get_row",director_name:a};i[o]=e.par_row[o];var s=[i];cfg.show_load(),$.post("/d/ajax",JSON.stringify(s),(function(e){cfg.hide_load(),t(e.get_row)}))},table_row:function(e,t,n){t(e.par_row)}},o={update_or_insert:function(e,t,n){var a=e.old_row;ex.vueAssign(e.par_row,t),e.$emit("tab-event",{name:"update_or_insert",new_row:e.par_row,old_row:a})},do_nothing:function(e,t,n){},update_par_row_from_db:function(e,t,n){var a=[{fun:"get_row",director_name:e.par_row._director_name,pk:e.par_row.pk}];ex.post("/d/ajax",JSON.stringify(a),(function(t){ex.vueAssign(e.par_row,t.get_row)}))}}},function(e,t){var n={props:["tab_head","par_row"],data:function(){var e=this,t=this.tab_head.table_ctx;return{childStore:new Vue({data:function(){return{vc:e,vcname:"ajax_table"}}}),heads:t.heads,row_filters:t.row_filters,row_sort:t.row_sort,director_name:t.director_name,footer:t.footer||[],ops:t.ops||[],rows:[],row_pages:{},selectable:null==t.selectable||t.selectable,selected:[],del_info:[],search_args:{}}},mixins:[mix_table_data,mix_ele_table_adapter],template:'<div class="rows-block flex-v" style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;padding-bottom: 1em;" >\n        <div class=\'flex\' style="min-height: 3em;" v-if="row_filters.length > 0">\n            <com-filter class="flex" :heads="row_filters" :search_args="search_args"\n                        @submit="search()"></com-filter>\n            <div class="flex-grow"></div>\n        </div>\n\n        <div  v-if="ops.length>0">\n            <div class="oprations" style="padding: 5px">\n                <component v-for="op in ops"\n                           :is="op.editor"\n                           :ref="\'op_\'+op.name"\n                           :head="op"\n                           :disabled="get_attr(op.disabled)"\n                           v-show="! get_attr(op.hide)"\n                           @operation="on_operation(op)"></component>\n            </div>\n        </div>\n\n        <div class="box box-success flex-grow">\n            <div class="table-wraper" style="position: absolute;top:0;left:0;bottom: 0;right:0;">\n               <el-table class="table" ref="e_table"\n                              :data="rows"\n                              border\n                              show-summary\n                              :span-method="arraySpanMethod"\n                              :fit="false"\n                              :stripe="true"\n                              size="mini"\n                              @sort-change="sortChange($event)"\n                              @selection-change="handleSelectionChange"\n                              :summary-method="getSum"\n                              height="100%"\n                              style="width: 100%">\n\n                            <el-table-column\n                                    v-if="selectable"\n                                     type="selection"\n                                    :width="55">\n                            </el-table-column>\n                        <template  v-for="head in heads">\n                            <el-table-column v-if="head.editor"\n                                             :show-overflow-tooltip="is_show_tooltip(head) "\n                                             :label="head.label"\n                                             :sortable="is_sort(head)"\n                                             :width="head.width">\n                                <template slot-scope="scope">\n                                    <component :is="head.editor"\n                                               @on-custom-comp="on_td_event($event)"\n                                               :row-data="scope.row" :field="head.name" :index="scope.$index">\n                                    </component>\n\n                                </template>\n\n                            </el-table-column>\n\n                            <el-table-column v-else\n                                             :show-overflow-tooltip="is_show_tooltip(head) "\n                                             :prop="head.name"\n                                             :label="head.label"\n                                             :sortable="is_sort(head)"\n                                             :width="head.width">\n                            </el-table-column>\n\n                        </template>\n\n                    </el-table>\n            </div>\n\n        </div>\n          <div v-if="row_pages.crt_page">\n                    <el-pagination\n                        @size-change="on_perpage_change"\n                        @current-change="get_page"\n                        :current-page="row_pages.crt_page"\n                        :page-sizes="[20, 50, 100]"\n                        :page-size="row_pages.perpage"\n                        layout="total, sizes, prev, pager, next, jumper"\n                        :total="row_pages.total">\n                </el-pagination>\n            </div>\n    </div>',mounted:function(){this.search()},methods:{getRows:function(){this.tab_head.tab_field?this.search_args[this.tab_head.tab_field]=this.par_row[this.tab_head.par_field]:this.search_args[this.tab_head.par_field]=this.par_row[this.tab_head.par_field],ex.vueSuper(this,{fun:"getRows"})},add_new:function(e){var t=ex.copy(e),n={};this.tab_head.tab_field?n[this.tab_head.tab_field]=this.par_row[this.tab_head.par_field]:n[this.tab_head.par_field]=this.par_row[this.tab_head.par_field];var a={fun:"add_new",init_fields:n};ex.assign(t,a),ex.vueSuper(this,t)},arraySpanMethod:function(e){e.row,e.column;var t=e.rowIndex,n=e.columnIndex;return this.table_layout&&this.table_layout["".concat(t,",").concat(n)]||[1,1]}}};Vue.component("com_tab_table",n)},function(e,t,n){n(2);var a={props:["row","head"],methods:{handleCheckChange:function(e,t,n){console.log(e,t,n);var a=this.$refs.et.getCheckedKeys();a=ex.filter(a,(function(e){return null!=e})),this.row[this.head.name]=a},handleNodeClick:function(e){console.log(e)}},data:function(){return{selected:[1,2],data:[{label:"一级 1",children:[{label:"二级 1-1",children:[{label:"三级 1-1-1",pk:1}]}]},{label:"一级 2",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1",pk:3}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]},{label:"一级 3",children:[{label:"二级 3-1",children:[{label:"三级 3-1-1",pk:2}]},{label:"二级 3-2",children:[{label:"三级 3-2-1"}]}]}],defaultProps:{children:"children",label:"label"}}},template:'<div class="com-field-ele-tree-name-layer">\n        <el-tree ref="et" :data="head.options" :props="defaultProps"\n             @node-click="handleNodeClick"\n             show-checkbox\n             @check-change="handleCheckChange"\n\n             :default-checked-keys="row[head.name]"\n             node-key="value"\n    ></el-tree>\n    </div>',computed:{label:function(){return this.row["_"+this.head.name+"_label"]}}};Vue.component("com-field-ele-tree",a)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-field-ele-tree-name-layer {\n  min-width: 20em;\n  border: 1px solid #b1b1b1; }\n  .com-field-ele-tree-name-layer .el-tree {\n    min-height: 20em; }\n  .com-field-ele-tree-name-layer .el-input input.el-input__inner[type=text] {\n    width: inherit !important; }\n",""])},function(e,t){var n={props:["rowData","field","index"],template:'<span>\n        <img @load=\'loaded=true\' :style="cusStyle"  @click="open()" :src="src" alt="" height="96px" style="cursor: pointer;">\n        </span>',data:function(){return{loaded:!1}},watch:{src:function(){this.loaded=!1}},computed:{src:function(){return this.rowData[this.field]},cusStyle:function(){return this.loaded?{visibility:"visible"}:{visibility:"hidden"}}},methods:{open:function(){var e={imgsrc:this.rowData[this.field]};pop_layer(e,"com-pop-image",(function(){}),{title:!1,area:["90%","90%"],shade:.8,skin:"img-shower",shadeClose:!0})}}};Vue.component("com-table-picture",n)},function(e,t){var n={props:["rowData","field","index"],template:'<div class="com-table-label-shower" v-html="show_text"></div>',data:function(){return{label:"_"+this.field+"_label"}},computed:{show_text:function(){return null!=this.rowData[this.label]?this.rowData[this.label]:""}}};Vue.component("com-table-label-shower",n)},function(e,t){var n={props:["rowData","field","index"],template:'<span class="com-table-mapper" v-text="show_data"></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{show_data:function(){if(this.table_par){var e=this.rowData[this.field],t=this.head.options,n=ex.findone(t,{value:e});return n?n.label:e}}}};Vue.component("com-table-mapper",n)},function(e,t){var n={props:["rowData","field","index"],template:'<span v-text="rowData[field]" class="clickable" @click="on_click()"></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},methods:{on_click:function(){this.$emit("on-custom-comp",{name:this.head.fun,row:this.rowData,head:this.head})}}};Vue.component("com-table-call-fun",n)},function(e,t,n){n(38);var a={props:["rowData","field","index"],template:'<div :class="[\'com-table-linetext\',{\'dirty\':is_dirty}]">\n        <span v-if="readonly" v-text="rowData[field]"></span>\n        <input v-else @change="on_changed()" style="width: 100%" type="text" v-model="rowData[field]">\n    </div>',data:function(){return{org_value:this.rowData[this.field]}},created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{is_dirty:function(){return this.rowData[this.field]!=this.org_value},readonly:function(){return!!this.head.readonly&&o[this.head.readonly.fun](this,this.head.readonly)}},watch:{"rowData._hash":function(){this.org_value=this.rowData[this.field]}},methods:{getRowValue:function(e){return this.rowData[e]},on_changed:function(){this.rowData[this.field]==this.org_value?this.$emit("on-custom-comp",{name:"row_changed_undo_act",row:this.rowData}):this.$emit("on-custom-comp",{name:"row_changed",row:this.rowData})}}};Vue.component("com-table-linetext",a);var o={checkRowValue:function(e,t){var n=t.field,a=t.target_value;return e.rowData[n]==a}}},function(e,t,n){var a=n(39);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-table-linetext.dirty input {\n  background-color: yellow; }\n",""])},function(e,t,n){var a=n(41);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-table-checkbox.dirty input {\n  background-color: yellow; }\n",""])},function(e,t){var n={props:["rowData","field","index"],template:'<span @click="goto_tab()" class="com-table-switch-to-tab clickable">\n     <component v-if="head.inn_editor" :is="head.inn_editor" :rowData="rowData" :field="field" :index="index"></component>\n    <span v-else v-text="rowData[field]"></span>\n    </span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););var t=ex.findone(e.heads,{name:this.field});this.head=t},methods:{goto_tab:function(){if(this.head.tab_name_express)var e=ex.eval(this.head.tab_name_express,{par_row:this.rowData,head:this.head});else e=this.head.tab_name;if(this.head.ctx_name_express)var t=ex.eval(this.head.ctx_name_express,{par_row:this.rowData,head:this.head});else t=this.head.ctx_name;this.$emit("on-custom-comp",{fun:"switch_to_tab",tab_name:e,ctx_name:t,named_tabs:this.head.named_tabs,par_row:this.rowData})}}};Vue.component("com-table-switch-to-tab",n)},function(e,t,n){var a=n(44);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".el-dropdown-menu__item.crt-value {\n  background-color: #eaf8ff; }\n\n.com-table-select.dirty {\n  background-color: yellow; }\n",""])},function(e,t){var n={props:["rowData","field","index"],template:'<span class="clickable" v-text="head.label" @click="on_click()"></span>',created:function(){this.parStore=ex.vueParStore(this);for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},methods:{on_click:function(){this.head.action?ex.eval(this.head.action,{row:this.rowData,head:this.head,ps:this.parStore}):this.$emit("on-custom-comp",{name:this.head.fun,row:this.rowData,head:this.head})}}};Vue.component("com-table-extraclick",n)},function(e,t,n){n(47);var a={props:["rowData","field","index"],data:function(){return{is_mobile:!ex.device.pc}},template:'<div :class="[\'extra-click-plus\',{\'mobile\':is_mobile}]"><span v-for="(ope,index) in operations">\n                <span v-if="ope.icon" class="icon">\n                      <span class="clickable item" v-html="ope.icon" @click="on_click(ope)"\n                      :title="ope.label"></span>\n                </span>\n                <span v-else>\n                    <span class="clickable item" v-text="ope.label" @click="on_click(ope)"></span>\n                    <span v-if="index < operations.length-1">/</span>  </span>\n                </span>\n                </div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{operations:function(){if(this.head.filter){if("string"==typeof this.head.filter)var e=window[this.head.filter];else e=this.head.filter;return e(this.head,this.rowData)}return this.head.operations}},methods:{on_click:function(e){this.$emit("on-custom-comp",{name:e.fun,row:this.rowData,head:this.head})}}};Vue.component("com-table-extraclick-plus",a)},function(e,t,n){var a=n(48);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".extra-click-plus .icon .item {\n  display: inline-block;\n  margin-right: 0.5em; }\n\n.extra-click-plus.mobile .item {\n  display: inline-block;\n  margin-left: 0.5rem;\n  margin-right: 0.5rem; }\n",""])},function(e,t){var n={props:["rowData","field","index"],template:'<span v-text="show_data"></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{show_data:function(){var e=this;if(!(t=e.rowData[e.field]))return t;if(this.table_par){if(this.head.parse_input)var t=a[this.head.parse_input](t);var n=ex.map(t,(function(t){var n=ex.findone(e.head.options,{value:t});return n?n.label:""}));return ex.sortOrder(n).join(";")}}}},a={dotSplit:function(e){return e.split(",")}};Vue.component("com-table-array-mapper",n)},function(e,t){Vue.component("com-table-bool-shower",{props:["rowData","field","index"],template:'<span class="com-table-bool-shower">\n    <i v-if="rowData[field]" style="color: green" class="fa fa-check-circle"></i>\n    <i v-else-if="rowData[field]==false" style="color: red" class="fa fa-times-circle"></i>\n    </span>'})},function(e,t){var n={props:["rowData","field","index"],template:'<span class="clickable" v-text="rowData[field]" @click="on_click()"></span>',data:function(){return{parStore:ex.vueParStore(this),label:"_"+this.field+"_label"}},computed:{},methods:{on_click:function(){this.parStore.$emit("finish",this.rowData)}}};Vue.component("com-table-foreign-click-select",n)},function(e,t){var n={props:["rowData","field","index"],template:'<span v-text="show_data"></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e},computed:{show_data:function(){if(this.table_par){var e=this.rowData[this.field],t=ex.findone(this.table_par.heads,{name:this.field}).options;return ex.findone(t,{value:e}).label}}}};Vue.component("com-table-array-option-mapper",n)},function(e,t){var n={props:["rowData","field","index"],template:'<span v-html="rowData[field]"></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},mounted:function(){}};Vue.component("com-table-html-shower",n)},function(e,t){Vue.component("com-table-bool-editor",{props:["rowData","field","index"],template:'<span>\n       <el-switch\n              v-model="is_true"\n              active-color="#13ce66"\n              inactive-color="#ff4949">\n        </el-switch>\n    </span>',computed:{is_true:{get:function(){var e=this.rowData[this.field];return 1==e||e},set:function(e){var t=this.rowData[this.field];this.rowData[this.field]=0==t||1==t?e?1:0:e}}}})},function(e,t){var n={props:["rowData","field","index"],template:'<span>\n    <a :href="link" target="_blank" v-text="rowData[field]"></a>\n    </span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{link:function(){return this.rowData[this.head.link_field]}}};Vue.component("com-table-jump-link",n)},function(e,t,n){n(57);Vue.component("com-table-change-order",{props:["rowData","field","index"],template:'<span class="change-order">\n    <span class="arrow" @click="up()">\n    <i  class="fa fa-long-arrow-up"></i>\n    </span>\n    <span class="arrow" @click="down()">\n     <i  class="fa fa-long-arrow-down"></i>\n    </span>\n    </span>',methods:{up:function(){this.$emit("on-custom-comp",{fun:"row_up",row:this.rowData})},down:function(){this.$emit("on-custom-comp",{fun:"row_down",row:this.rowData})}}})},function(e,t,n){var a=n(58);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".change-order .arrow {\n  cursor: pointer;\n  display: inline-block;\n  padding: 0.2em 0.6em; }\n\n.change-order .arrow:hover {\n  color: #00c000; }\n",""])},function(e,t){var n={props:["rowData","field","index"],template:'<span v-text="show_text" ></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{show_text:function(){return this.rowData[this.field]?parseFloat(this.rowData[this.field]).toFixed(this.head.digit):this.rowData[this.field]}}};Vue.component("com-table-digit-shower",n)},function(e,t){Vue.component("com-table-append-html-shower",{props:["rowData","field","index"],template:"<span v-html=\"rowData['_html_'+field]\"></span>"})},function(e,t){var n={props:["rowData","field","index"],template:'<span v-text="show_data"></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{show_data:function(){var e=this,t=e.rowData[e.field];if(!t)return t;var n=JSON.parse(t);return ex.map(n,(function(t){return t[e.head.key||"label"]})).join(";")}}};Vue.component("com-table-array-obj-shower",n)},function(e,t,n){n(63),Vue.component("com-table-layout-picture-grid",{template:'<div class="com-table-layout-picture-grid">\n    <div class="item" v-for="row in parStore.rows">\n\n        <div class="main-img" >\n            <img  :src="row.image_url" alt="">\n        </div>\n\n        <input type="checkbox"  :value="row" v-model="parStore.selected">\n        <span :class="{clickable:has_action}" v-text="row.image_title" @click="on_click(row)"></span>\n    </div>\n    </div>',data:function(){return{parStore:ex.vueParStore(this)}},mounted:function(){},computed:{has_action:function(){return this.parStore.head.title_click}},methods:{on_click:function(e){var t=this.parStore.head;t.title_click&&ex.eval(t.title_click,{row:e,ctx:t,ps:this.parStore})}}})},function(e,t,n){var a=n(64);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-table-layout-picture-grid {\n  background-color: #e7e7e7;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n  overflow: auto;\n}\n.com-table-layout-picture-grid .item {\n  display: inline-block;\n  background-color: #fff;\n  margin: 20px;\n  vertical-align: top;\n  padding: 10px;\n}\n.com-table-layout-picture-grid .main-img {\n  position: relative;\n  width: 180px;\n  height: 220px;\n  background-size: cover;\n  text-align: center;\n  padding: 10px;\n}\n.com-table-layout-picture-grid .main-img img {\n  max-height: 100%;\n  max-width: 100%;\n}\n",""])},function(e,t){var n={props:["row","head"],created:function(){search_args[this.head.key]&&(this.row[this.head.name]=search_args[this.head.key])},template:'<div class="com-field-invite-code">\n        <com-field-linetext :head="head" :row="row"></com-field-linetext>\n    </div>',computed:{label:function(){return this.row["_"+this.head.name+"_label"]}}};Vue.component("com-field-invite-code",n)},function(e,t){var n={props:["row","head"],template:'<div :class="[\'com-field-linetext\',head.class]" :style="head.style">\n            \t\t\t<span class="readonly-info" v-if=\'head.readonly\' v-text=\'row[head.name]\'></span>\n            \t\t\t<input v-else type="text" :class="[\'form-control input-sm\',head.input_class]" v-model="row[head.name]"\n            \t\t \t    :id="\'id_\'+head.name" :name="head.name"\n                        \t:placeholder="head.placeholder" :autofocus="head.autofocus" :maxlength=\'head.maxlength\'>\n                       </div>',mounted:function(){this.head.css&&ex.append_css(this.head.css)}};Vue.component("com-field-linetext",n)},function(e,t,n){n(68),Vue.component("com-field-phone-code",{props:["row","head"],template:' <div class="com-field-phone-code flex">\n         <input  type="text" class="form-control input-sm" v-model="row[head.name]"\n            :id="\'id_\'+head.name" :name="head.name"\n            :placeholder="head.placeholder" :autofocus="head.autofocus" :maxlength=\'head.maxlength\'>\n\n          <button style="width: 9em" type="button" class="btn btn-sm"\n              :disabled="vcode_count !=0"\n               @click="get_phone_code" v-text="vcodeLabel"></button>\n     </div>\n    ',data:function(){return{parStore:ex.vueParStore(this),vcode_count:0}},computed:{vcodeLabel:function(){return 0!=this.vcode_count?this.vcode_count+" s":"获取验证码"}},methods:{get_phone_code:function(){var e=this;this.parStore.get_phone_code((function(){e.vcode_count=e.head.vcode_count||120,e.countGetVCodeAgain()}))},countGetVCodeAgain:function(){var e=this,t=setInterval((function(){e.vcode_count-=1,e.vcode_count<=0&&(clearInterval(t),e.vcode_count=0)}),1e3)}}})},function(e,t,n){var a=n(69);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-field-phone-code input {\n  flex-grow: 10; }\n\n.com-field-phone-code button {\n  flex-grow: 0; }\n",""])},function(e,t){Vue.component("com-field-month",{props:["row","head"],template:'<div class="com-field-month">\n     <input style="display: none" type="text"\n     :id="\'id_\'+head.name" v-model="row[head.name]"\n     :name="head.name">\n   <el-date-picker\n      v-model="row[head.name]"\n      type="month"\n      :readonly="head.readonly"\n      size="small"\n      value-format="yyyy-MM"\n      :placeholder="head.placeholder || \'选择月份\'">\n    </el-date-picker>\n\n               </div>',mounted:function(){}})},function(e,t){var n={props:["row","head"],template:'<div class="com-field-radio">\n            <input type="text" v-model=\'row[head.name]\' style="display: none" :name="head.name">\n\t        <span v-if="head.readonly" v-text="mylabel"></span>\n\t        <template v-else>\n                <div v-for="op in head.options" style="display: inline-block;margin: 0 3px">\n                      <input type="radio" :id="\'_radio\'+head.name+op.value"\n                        :value="op.value" v-model=\'row[head.name]\'>\n                     <label :for="\'_radio\'+head.name+op.value" v-text="op.label" style="font-weight: 400;"></label>\n                </div>\n\t        </template>\n\t\t</div>',computed:{mylabel:function(){var e=ex.findone(this.head.options,{value:this.row[this.head.name]});return e?e.label:""}}};Vue.component("com-field-radio",n)},function(e,t){Vue.component("com-field-blocktext",{props:["row","head"],template:'<div>\n            <span v-if=\'head.readonly\' v-text=\'row[head.name]\'></span>\n            <textarea :style="head.style" v-else :maxlength="head.maxlength" class="form-control input-sm"\n                :name="head.name"\n                :id="\'id_\'+head.name" v-model="row[head.name]" :placeholder="head.placeholder"\n                :readonly=\'head.readonly\'></textarea>\n            </div>'})},function(e,t){Vue.component("com-field-cascader",{props:["row","head"],methods:{},data:function(){return{selected:[1,2],options:[{value:"1",label:"一级 1",children:[{value:"21",label:"二级 1-1",children:[{value:"31",label:"三级 1-1-1",children:[{value:"41",label:"四级1"}]}]}]},{value:"2",label:"一级 2",children:[{value:"22",label:"二级 2-1",children:[{value:"32",label:"三级 2-1-1",pk:3}]},{value:"23",label:"二级 2-2",children:[{value:"33",label:"三级 2-2-1"}]}]}]}},template:'<div class="com-field-cascader">\n      <el-cascader\n            :show-all-levels="false"\n            v-model="row[head.name]"\n            :options="head.options"\n            :props="{checkStrictly: true,emitPath:false }"\n            size="small"\n            clearable>\n        </el-cascader>\n    </div>',computed:{label:function(){return this.row["_"+this.head.name+"_label"]}}})},function(e,t){var n={props:["row","head"],template:'<div class="com-field-date">\n        <span class="readonly-info" v-show=\'head.readonly\' v-text=\'row[head.name]\'></span>\n\n     <input v-if="!head.readonly" type="text" style="display: none"\n            :id="\'id_\'+head.name"\n            :name="head.name"\n            v-model="row[head.name]">\n     <el-date-picker\n        v-if="!head.readonly"\n      v-model="row[head.name]"\n      type="date"\n      :placeholder="head.placeholder"\n      align="right"\n      size="small"\n      value-format="yyyy-MM-dd"\n      :picker-options="pickerOptions">\n    </el-date-picker>\n</div>',mounted:function(){},data:function(){return{pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){var t=new Date;t.setHours(0,0,0,0),e.$emit("pick",t)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0,0,0,0),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),t.setHours(0,0,0,0),e.$emit("pick",t)}},{text:"30天前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-2592e6),t.setHours(0,0,0,0),e.$emit("pick",t)}}]}}}};Vue.component("com-field-date",n)},function(e,t,n){n(76);var a={props:["row","head"],template:'<div class="com-field-pop-tree-select" style="white-space: nowrap">\n        \x3c!--<span  v-text="label" style="display: inline-block;background-color: white;border-bottom: 1px solid grey"></span>--\x3e\n       \x3c!--<input type="text" :class="[\'form-control input-sm label-shower\',head.input_class]" v-model="label"--\x3e\n                     \x3c!--readonly  :placeholder="head.placeholder" @click="open_win" />--\x3e\n       <el-input\n    :placeholder="head.placeholder"\n    readonly\n    size="small"\n   v-model="label">\n    <el-button slot="append" icon="el-icon-search" @click="open_win"></el-button>\n  </el-input>\n        <input type="text" v-model="row[head.name]" style="display: none;" :id="\'id_\'+head.name" :name="head.name" />\n        \x3c!--<span v-if="!head.readonly" class="clickable" @click="open_win"><i class="fa fa-search"></i></span>--\x3e\n    </div>',computed:{label:function(){return this.row["_"+this.head.name+"_label"]}},mounted:function(){},methods:{open_win:function(){var e=this;cfg.pop_vue_com("com-pop-tree",this.head.tree_ctx).then((function(t){e.head.after_select?ex.eval(e.head.after_select,{selected_row:t,row:e.row}):(Vue.set(e.row,e.head.name,t.value),Vue.set(e.row,"_"+e.head.name+"_label",t.path))})).catch((function(){console.log("break pop tree")}))}}};Vue.component("com-field-pop-tree-select",a),Vue.component("com-pop-tree",{props:["ctx"],template:'<div class="com-pop-tree">\n    <el-tree\n          :data="ctx.options"\n          :props="defaultProps"\n          accordion\n          @node-click="handleNodeClick">\n       </el-tree>\n    </div>',data:function(){return{defaultProps:{children:"children",label:"label"}}},methods:{handleNodeClick:function(e){this.ctx.click_filter?ex.eval(this.ctx.click_filter,{item:e})&&this.$emit("finish",{value:e.value,label:e.label,path:e.path}):this.$emit("finish",{value:e.value,label:e.label,path:e.path})}}})},function(e,t,n){var a=n(77);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-field-pop-tree-select .label-shower {\n  background-color: #fff;\n}\n",""])},function(e,t){Vue.component("com-field-compute",{props:["row","head"],template:'<div class="com-field-compute">\n           <input type="text" :class="[\'form-control input-sm\',head.input_class]" v-model="row[head.name]"\n            \t\t \t    :id="\'id_\'+head.name" :name="head.name" readonly\n                        \t:placeholder="head.placeholder"  :maxlength=\'head.maxlength\'>\n            </div>',watch:{row:function(e){ex.eval(this.head.express,{row:e,head:this.head})}}})},function(e,t,n){n(80);var a={props:["row","head"],template:'<div :class="[\'com-field-range\',head.class]" >\n            \t    <component class="range-field" :is="start_head.editor" :head="start_head" :row="row"></component>\n                    <div style="display: inline-block;margin: 0 2px;" >-</div>\n                     <component class="range-field" :is="end_head.editor" :head="end_head" :row="row"></component>\n              </div>',data:function(){var e=ex.vueParStore(this);return{start_head:ex.findone(e.vc.heads,{name:this.head.start_name}),end_head:ex.findone(e.vc.heads,{name:this.head.end_name})}},mounted:function(){this.head.css&&ex.append_css(this.head.css)}};Vue.component("com-field-range",a)},function(e,t,n){var a=n(81);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-field-range {\n  display: flex;\n  padding: 0 0 10px 0;\n}\n.com-field-range .el-date-editor.el-input {\n  width: auto;\n}\n.field-panel.suit .form-group.field .field_input .com-field-range input[type=text],\n.field-panel.suit .form-group.field .field_input .com-field-range input[type=number] {\n  width: 10em;\n}\n.field-panel.suit .form-group.field .field_input .com-field-range .range-field {\n  position: relative;\n}\n.field-panel.suit .form-group.field .field_input .com-field-range .range-field .msg-box.n-right {\n  left: 0;\n  bottom: 0;\n  transform: translateX(0);\n}\n",""])},function(e,t){var n={props:["row","head"],template:'<div :class="[\'com-field-time\',\'field-\'+head.name,head.class]" >\n        <input v-if="!head.readonly" type="text" style="display: none"\n            :id="\'id_\'+head.name"\n            :name="head.name"\n            v-model="row[head.name]">\n\n            \t  <el-time-picker\n                    v-model="row[head.name]"\n                    value-format="HH:mm:ss"\n                    size="small"\n                    :placeholder="head.placeholder || \'请输入时间\'">\n                   </el-time-picker>\n              </div>',computed:{innvalue:function(){return this.row[this.head.name]}},watch:{innvalue:function(e){e.length>10?this.row[this.head.name]=e.slice(11):this.row[this.head.name]=e}},mounted:function(){if(this.head.css&&ex.append_css(this.head.css),this.head.width){var e=this.head.width,t=".com-field-time.field-"+this.head.name;ex.append_css("".concat(t," input{width:").concat(e," !important;"))}}};Vue.component("com-field-time",n)},function(e,t,n){n(84);var a={props:["row","head"],template:'<div :class="[\'com-field-list-ctn\',head.class]" >\n            \t<component class="list-ctn-field" v-for="head2 in myhead" :is="head2.editor" :head="head2" :row="row"></component>\n              </div>',data:function(){return{parStore:ex.vueParStore(this)}},computed:{myhead:function(){var e=this,t=[];return ex.each(this.head.children,(function(n){var a=ex.findone(e.parStore.vc.heads,{name:n});a&&t.push(a)})),t}},mounted:function(){this.head.css&&ex.append_css(this.head.css)}};Vue.component("com-field-list-ctn",a)},function(e,t,n){var a=n(85);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-field-list-ctn {\n  display: flex;\n}\n.field-panel.suit .form-group.field .field_input .com-field-list-ctn .list-ctn-field {\n  position: relative;\n}\n.field-panel.suit .form-group.field .field_input .com-field-list-ctn .list-ctn-field .msg-box.n-right {\n  left: 0;\n  bottom: 0;\n  transform: translateX(0);\n}\n",""])},function(e,t){var n={props:["row","head"],template:'<div :class="[\'com-field-color\',head.class]">\n   \t<input type="text"  v-model="row[head.name]"\n            \t\t \t    :id="\'id_\'+head.name" :name="head.name" style="display: none;">\n    <el-color-picker\n  v-model="row[head.name]"\n  color-format="hex"\n   :show-alpha="head.has_opacity"\n  :predefine="predefineColors">\n</el-color-picker>\n            \t\t\t\x3c!--<span class="readonly-info" v-if=\'head.readonly\' v-text=\'row[head.name]\'></span>--\x3e\n            \t\t\t\x3c!--<input v-else type="text" :class="[\'form-control input-sm\',head.input_class]" v-model="row[head.name]"--\x3e\n            \t\t \t    \x3c!--:id="\'id_\'+head.name" :name="head.name" data- --\x3e\n                        \t\x3c!--:placeholder="head.placeholder" :autofocus="head.autofocus" :maxlength=\'head.maxlength\'>--\x3e\n                       </div>',data:function(){return{predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585"]}},mounted:function(){this.head.css&&ex.append_css(this.head.css)}};Vue.component("com-field-color",n)},function(e,t){var n={props:["row","head"],template:'<div :class="[\'com-field-number\',\'field-\'+head.name,head.class]" >\n       <span v-if=\'head.readonly && !head.prefix && !head.suffix\' v-text=\'row[head.name]\'></span>\n       <div  v-else class="form-inline">\n          <div class="input-group" >\n              <div class="input-group-addon" v-if="head.prefix" v-html="head.prefix"></div>\n                <input  type="text" class="form-control input-sm" v-model="row[head.name]" :id="\'id_\'+head.name"\n                                :style="{width:head.width}"\n                                :name="head.name" :step="head.step"\n                                 @keypress="isNumber($event)"\n                                :readonly="head.readonly"\n                                :placeholder="head.placeholder" :autofocus="head.autofocus">\n              <div class="input-group-addon" v-if="head.suffix" v-html="head.suffix"></div>\n          </div>\n       </div>\n\n         </div>',created:function(){},mounted:function(){},methods:{isNumber:function(e){var t=(e=e||window.event).which?e.which:e.keyCode;return(t>=48&&t<=57||46==t||45==t)&&(46!=t||-1==this.row[this.head.name].indexOf("."))||e.preventDefault()}}};Vue.component("com-field-number",n)},function(e,t){Vue.component("com-field-richtext",{props:["row","head"],template:'<div >\n            <span v-if=\'head.readonly\' v-text=\'row[head.name]\'></span>\n            <div v-else>\n                <ckeditor ref="ck" :style="head.style" v-model="row[head.name]"\n                :maxlength=\'head.maxlength\'\n                :id="\'id_\'+head.name" :set="head.set" :config="head.config"></ckeditor>\n                <div style="height: 1em;width: 0;position: relative">\n                <input type="text" :name=\'head.name\' style="display: none"  v-model="row[head.name]">\n                </div>\n            </div>\n         </div>',methods:{commit:function(){Vue.set(this.row,this.head.name,this.$refs.ck.editor.getData())}}})},function(e,t,n){n(90);var a={props:["row","head"],template:'<div :class="[\'com-field-split-text\',head.class]" :style="head.style">\n            \t\t\t<span class="readonly-info" v-if=\'head.readonly\' v-text=\'row[head.name]\'></span>\n            \t\t\t<input v-else type="text" :class="[\'my-input-field\',head.input_class]" v-model="row[head.name]"\n            \t\t \t    :id="\'id_\'+head.name" :name="head.name"\n                        \t:placeholder="head.placeholder" :autofocus="head.autofocus" :maxlength=\'head.maxlength\'>\n                       </div>',mounted:function(){var e=this;this.head.css&&ex.append_css(this.head.css);var t=this;setTimeout((function(){var n=$(e.$el).find(".my-input-field").selectize({delimiter:",",persist:!1,create:!0,hideSelected:!0,valueField:"value",labelField:"label",searchField:"label",onChange:function(e){t.row[t.head.name]=e},onBlur:function(){$(t.$el).find(".my-input-field").trigger("validate")}});Vue.nextTick((function(){n[0].selectize.addOption(t.head.options)}))}),100)}};Vue.component("com-field-split-text",(function(e,t){ex.load_css(js_config.js_lib.selectizejs_css),ex.load_js(js_config.js_lib.selectizejs).then((function(){e(a)}))}))},function(e,t,n){var a=n(91);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-field-split-text .my-input-field {\n  min-width: 300px;\n  max-width: 500px;\n}\n",""])},function(e,t){Vue.component("com-field-label-shower",{props:["row","head"],template:'<div class="com-field-label-shower">\n        <span class="readonly-info" v-text=\'label\'></span>\n        </div>',computed:{label:function(){return this.row["_"+this.head.name+"_label"]}}})},function(e,t){Vue.component("com-field-ele-transfer",{props:["row","head"],template:'<div>\n     <el-transfer v-model="value1" :data="trans_data"></el-transfer>\n     </div>',data:function(){return{value1:[]}},computed:{trans_data:function(){return[{key:"xx",label:"bbbb"}]}}})},function(e,t){var n={props:["row","head"],template:'<div class="com-field-datetime">\n    <span class="readonly-info" v-show=\'head.readonly\' v-text=\'row[head.name]\'></span>\n      <el-date-picker\n        v-if="!head.readonly"\n      v-model="row[head.name]"\n      type="datetime"\n      :placeholder="head.placeholder"\n      align="right"\n      size="small"\n      value-format="yyyy-MM-dd HH:mm:ss"\n      :picker-options="pickerOptions">\n    </el-date-picker>\n    <input style="display: none" type="text" :name="head.name" :id="\'id_\'+head.name" v-model="row[head.name]">\n               </div>',data:function(){return{pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){var t=new Date;t.setHours(0,0,0,0),e.$emit("pick",t)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0,0,0,0),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),t.setHours(0,0,0,0),e.$emit("pick",t)}},{text:"30天前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-2592e6),t.setHours(0,0,0,0),e.$emit("pick",t)}}]}}},mounted:function(){}};Vue.component("com-field-datetime",n)},function(e,t){var n={props:["row","head"],template:'<div>\n        <span  v-text="label"></span>\n        <input type="text" v-model="row[head.name]" style="display: none;" :id="\'id_\'+head.name" :name="head.name">\n        <span v-if="!head.readonly" class="clickable" @click="open_win"><i class="fa fa-search"></i></span>\n    </div>',computed:{label:function(){return this.row["_"+this.head.name+"_label"]}},mounted:function(){},methods:{open_win:function(){var e=this;this.head.init_express&&ex.eval(this.head.init_express,{head:this.head,row:this.row}),cfg.pop_vue_com("com-table-panel",this.head.table_ctx).then((function(t){e.head.after_select?ex.eval(e.head.after_select,{selected_row:t,row:e.row}):e.head.select_field?Vue.set(e.row,e.head.name,t[e.head.select_field]):Vue.set(e.row,e.head.name,t.pk),Vue.set(e.row,"_"+e.head.name+"_label",t._label)})).catch((function(){console.log("break table panel")}))}}};Vue.component("com-field-pop-table-select",n)},function(e,t,n){var a=n(97);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".file-uploader .item img {\n  max-width: 300px;\n  cursor: pointer; }\n\n.file-uploader .wrap {\n  display: inline-block; }\n\n.file-uploader .sortable {\n  display: flex;\n  flex-wrap: wrap; }\n  .file-uploader .sortable li {\n    display: block;\n    margin: 0.5em;\n    padding: 0.3em;\n    position: relative; }\n    .file-uploader .sortable li:hover .remove-btn {\n      visibility: visible; }\n    .file-uploader .sortable li .file-wrap {\n      width: 10em;\n      height: 12em;\n      border: 2em solid #68abff;\n      text-align: center;\n      padding: 1em 0;\n      background-color: white;\n      box-shadow: 10px 10px 5px #888888;\n      color: #68abff;\n      display: table-cell;\n      vertical-align: middle;\n      cursor: pointer; }\n      .file-uploader .sortable li .file-wrap .file-type {\n        font-size: 250%;\n        font-weight: 700;\n        text-transform: uppercase; }\n\n.file-uploader .remove-btn {\n  font-size: 2em;\n  position: absolute;\n  top: -1em;\n  right: 0.3em;\n  visibility: hidden; }\n  .file-uploader .remove-btn i {\n    color: red; }\n\n.file-uploader-btn-plus {\n  display: inline-block;\n  vertical-align: top; }\n  .file-uploader-btn-plus .inn-btn {\n    width: 5em;\n    height: 5em;\n    display: table-cell;\n    text-align: center;\n    vertical-align: middle;\n    border: 1px solid #e1e1e1;\n    cursor: pointer; }\n    .file-uploader-btn-plus .inn-btn span {\n      font-size: 300%; }\n    .file-uploader-btn-plus .inn-btn:hover {\n      background-color: #e1e1e1; }\n",""])},function(e,t){var n={props:["row","head"],template:'<div style="position: relative;">\n    <input type="text" class="form-control input-sm" v-model="row[head.name]" :id="\'id_\'+head.name" :name="head.name">\n    <div>\n    <div style="display: inline-block;border: 1px solid #9e9e9e;">\n        <img  :src="head.code_img" alt="">\n    </div>\n    <span class="clickable" @click="change_code" style="white-space:nowrap;">看不清，换一张</span>\n    </div>\n    </div>',methods:{change_code:function(){var e=this;cfg.show_load(),ex.post("/d/ajax/authuser",JSON.stringify([{fun:"new_validate_code"}]),(function(t){e.head.code_img=t.new_validate_code,cfg.hide_load()}))}}};Vue.component("com-field-validate-code",n)},function(e,t){var n={props:["row","head"],template:'<div class="com-field-table-list">\n    <div>\n        <button @click="add_new()" class="btn btn-default btn-xs">\n            <i style="color: green" class="fa fa-plus-circle"></i>\n        </button>\n        <button @click="delete_rows()" :disabled="selected.length==0" class="btn btn-default btn-xs">\n            <i style="color: red" class="fa fa-minus-circle"></i>\n        </button>\n        <div style="display: inline-block;position: relative;vertical-align: top">\n            <textarea :name="head.name" v-model="row[head.name]"  style="display: none"></textarea>\n        </div>\n    </div>\n\n\n                    <el-table ref="core_table" class="table"\n                              :data="rows"\n                              border\n                              :stripe="true"\n                              size="mini"\n                               @selection-change="handleSelectionChange"\n                              style="width: 100%">\n                              \x3c!--:summary-method="getSum"--\x3e\n                        <el-table-column\n                                type="selection"\n                                width="55">\n                        </el-table-column>\n\n                        <template  v-for="col in heads">\n\n                            <el-table-column v-if="col.editor"\n                                             :show-overflow-tooltip="is_show_tooltip(col) "\n                                             :label="col.label"\n                                             :prop="col.name.toString()"\n                                             :width="col.width">\n                                <template slot-scope="scope">\n                                    <component :is="col.editor"\n                                               @on-custom-comp="on_td_event($event)"\n                                               :row-data="scope.row" :field="col.name" :index="scope.$index">\n                                    </component>\n\n                                </template>\n\n                            </el-table-column>\n                            <el-table-column v-else\n                                             :show-overflow-tooltip="is_show_tooltip(col) "\n                                             :prop="col.name.toString()"\n                                             :label="col.label"\n                                             :width="col.width">\n                            </el-table-column>\n                        </template>\n                    </el-table>\n              </div>',mixins:[mix_table_data,mix_ele_table_adapter],data:function(){if(this.row[this.head.name])var e=JSON.parse(this.row[this.head.name]);else e=[];return{rows:e,row_sort:{},heads:this.head.table_heads,selected:[]}},mounted:function(){},computed:{out_row_this_field:function(){return this.row[this.head.name]}},watch:{out_row_this_field:function(){this.row[this.head.name]?this.rows=JSON.parse(this.row[this.head.name]):this.rows=[]},rows:{handler:function(e){e.length>0?Vue.set(this.row,this.head.name,JSON.stringify(e)):Vue.set(this.row,this.head.name,"")},deep:!0}},methods:{commit:function(){this.row[this.head.name]=JSON.stringify(this.rows)},add_new:function(){var e=this;e.crt_row={};var t={heads:e.head.fields_heads,ops_loc:"bottom",save_express:'scope.vc.$emit("finish",scope.vc.row);rt=Promise.resolve(scope.vc.row)',ops:[{name:"save",editor:"com-field-op-btn",label:"确定",icon:"fa-save"}],genPar:e};cfg.pop_vue_com("com-form-one",t).then((function(t){e.rows.push(t)})).catch((function(){console.log("break form one")}))},delete_rows:function(){var e=this;layer.confirm("确定删除?",{icon:3,title:"提示"},(function(t){ex.remove(e.rows,(function(t){return-1!=e.selected.indexOf(t)})),layer.close(t)}))},norm_head:function(e,t){t._editing}}};Vue.component("com-field-table-list",n)},function(e,t,n){n(2);var a={props:["row","head"],methods:{check_depend:function(e){var t=this;e.depend_list&&ex.each(e.depend_list,(function(e){var n=t.$refs.et.getNode(e.value);n&&!n.checked&&(t.$refs.et.setChecked(e.value,!0),t.check_depend(e))}))},walk_check_depend:function(e){var t=this;e.children?ex.each(e.children,(function(e){t.walk_check_depend(e)})):this.check_depend(e)},uncheck_depended:function(e){var t=this;e.depended_list&&ex.each(e.depended_list,(function(e){var n=t.$refs.et.getNode(e.value);n&&n.checked&&(t.$refs.et.setChecked(e.value,!1),t.uncheck_depended(e))}))},walk_uncheck_depended:function(e){var t=this;e.children?ex.each(e.children,(function(e){t.walk_uncheck_depended(e)})):this.uncheck_depended(e)},handleCheckChange:function(e,t,n){console.log(e,t,n)},handleNodeClick:function(e){},handleCheck:function(e,t){console.log(e);e.children?ex.isin(e,t.checkedNodes)||ex.isin(e,t.halfCheckedNodes)?this.walk_check_depend(e):this.walk_uncheck_depended(e):ex.isin(e,t.checkedNodes)?this.check_depend(e):this.uncheck_depended(e);var n=this.$refs.et.getCheckedKeys();n=ex.filter(n,(function(e){return null!=e}));var a=[];ex.walk(this.inn_head.options,(function(e){e.value&&a.push(e.value)})),this.row[this.head.name]&&this.row[this.head.name].length>0?(this.row[this.head.name]=ex.filter(this.row[this.head.name],(function(e){return!ex.isin(e,a)})),this.row[this.head.name]=this.row[this.head.name].concat(n)):this.row[this.head.name]=n},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},init:function(){this.depend={},this.has_depend_list=[];var e={};ex.walk(this.inn_head.options,(function(t){t.value&&(e[t.value]&&cfg.showError(t.value+"重复了，请检查备选项！"),e[t.value]=t)})),ex.walk(this.inn_head.options,(function(t){t.depend&&(t.depend_list=[],ex.each(t.depend,(function(n){var a=e[n];a||cfg.showError("".concat(n,"不存在，而被 ").concat(t.label," 依赖!")),t.depend_list.push(a),a.depended_list||(a.depended_list=[]),a.depended_list.push(t)})))}))},refresh:function(e){var t=this;this.inn_head.options=[],setTimeout((function(){t.inn_head.options=e,t.init()}),300)}},mounted:function(){this.init(),ex.vueEventRout(this)},watch:{filterText:function(e){this.$refs.et.filter(e)}},data:function(){var e=ex.copy(this.head);return{parStore:ex.vueParStore(this),filterText:"",inn_head:e,defaultProps:{children:"children",label:"label"}}},template:'<div class="com-field-ele-tree-name-layer">\n    <el-input\n      placeholder="输入关键字进行过滤"\n      v-model="filterText">\n    </el-input>\n        <el-tree ref="et" :data="inn_head.options" :props="defaultProps"\n             @node-click="handleNodeClick"\n             @check="handleCheck"\n             show-checkbox\n             @check-change="handleCheckChange"\n             :default-checked-keys="row[head.name]"\n             node-key="value"\n             :filter-node-method="filterNode"\n    >\n      <span class="custom-tree-node" slot-scope="{ node, data }">\n        <span :title="data.help_text" v-text="node.label"></span>\n      </span>\n\n    </el-tree>\n    </div>',computed:{label:function(){return this.row["_"+this.head.name+"_label"]}}};Vue.component("com-field-ele-tree-depend",a)},function(e,t){var n={props:["row","head"],template:'<div class="com-field-china-address">\n            <el-cascader\n              :options="options"\n              v-model="row[head.name]"></el-cascader>\n               </div>',mounted:function(){},data:function(){return{options:china_address}}};Vue.component("com-field-china-address",(function(e,t){ex.load_js("/static/lib/china_address.js",(function(){e(n)}))}))},function(e,t){var n={props:["head"],template:' <a class="clickable" @click="operation_call()"  :style="head.style">\n    <i v-if="head.icon" :class=\'["fa",head.icon]\'></i> <span  v-text="head.label"></span></a>',data:function(){return{enable:!0,parStore:ex.vueParStore(this)}},methods:{operation_call:function(){this.head.action?ex.eval(this.head.action,{ps:this.parStore,head:this.head}):this.$emit("operation",this.head.name)},set_enable:function(e){this.enable=e}}};Vue.component("com-op-a",n)},function(e,t){Vue.component("com-op-delete",{props:["name"],template:' <a class="clickable" @click="delete_op()" :disabled="!enable">删除</a>',data:function(){return{enable:!1}},methods:{delete_op:function(){this.$emit("operation",this.name)},set_enable:function(e){this.enable=e}}})},function(e,t){var n={props:["head","disabled"],template:' <span class="com-op-btn" style="margin-left: 3px">\n    <button :class="norm_class" @click="operation_call()"  :style="head.style" :disabled="disabled">\n        <i v-if="head.icon" :class=\'["fa",head.icon]\'></i>\n        <span  v-text="head.label"></span>\n    </button>\n    </span>',data:function(){return{enable:!0,parStore:ex.vueParStore(this)}},mounted:function(){this.head.css&&ex.append_css(this.head.css)},computed:{norm_class:function(){return this.head.class?"btn btn-sm "+this.head.class:"btn btn-sm btn-default"}},methods:{operation_call:function(){var e=this;if(this.head.action){if(this.head.row_match&&!this.parStore.check_selected(this.head))return;this.head.confirm_msg?cfg.confirm(this.head.confirm_msg).then((function(){ex.eval(e.head.action,{ps:e.parStore,head:e.head,self:e})})):ex.eval(this.head.action,{ps:this.parStore,head:this.head,self:this})}else this.$emit("operation",this.head.name||this.head.fun)},set_enable:function(e){this.enable=e}}};Vue.component("com-op-btn",n)},function(e,t){Vue.component("com-field-op-btn",{props:["head"],template:'<div class="com-field-op-btn" style="display: inline-block;margin: 0 3px">\n    <button @click="operation_call()" :class="head.class?head.class:\'btn btn-default\'">\n        <i v-if="head.icon" :class="[\'fa\',head.icon]"></i><span style="display: inline-block;margin-left: 5px" v-text="head.label"></span>\n        </button>\n    </div>',methods:{operation_call:function(){this.$emit("operation",this.head.name)}}})},function(e,t,n){var a=n(107);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-form-one {\n  height: 100%; }\n  .com-form-one .oprations {\n    padding: 5px 10px; }\n  .com-form-one .oprations.bottom {\n    text-align: right;\n    border-top: 1px solid #d7d7d7; }\n  .com-form-one .table-fields {\n    border: 1px solid #efefef;\n    background-color: #f8f8f8;\n    margin: 5px 15px;\n    padding: 5px 30px; }\n  .com-form-one .fields-group-title {\n    margin: 10px 0; }\n",""])},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-fields-panel {\n  padding: 2rem;\n  border-radius: 0.3rem;\n  background-color: white; }\n",""])},function(e,t){Vue.component("com-html-panel",{props:["ctx"],template:'<div class="com-html-panel" v-html="ctx.content"></div>'})},function(e,t){var n={props:["ctx"],data:function(){var e=this;null==this.ctx.selectable&&(this.ctx.selectable=!0);var t={props:["ctx"],propsData:{ctx:e.ctx},data:function(){return{head:e.ctx,vc:e,par_row:e.ctx.par_row||{},heads:e.ctx.heads||[],selectable:e.ctx.selectable,search_args:e.ctx.search_args||{},row_filters:e.ctx.row_filters||{},row_sort:e.ctx.row_sort||{sortable:[]},director_name:e.ctx.director_name||"",ops:e.ctx.ops||[],row_pages:e.ctx.row_pages||{crt_page:1,total:0,perpage:20},rows:[],footer:[],selected:[]}},mixins:[table_store]},n=this.get_custom_store(t);return{childStore:new Vue(n),par_row:this.ctx.par_row||{},del_info:[]}},mixins:[mix_table_data,mix_ele_table_adapter],mounted:function(){this.childStore.$on("finish",this.emit_finish),this.ctx.event_slots&&ex.vueEventRout(this,this.ctx.event_slots),this.childStore.head.init_express||this.childStore.search()},methods:{get_custom_store:function(e){return e},emit_finish:function(e){this.$emit("finish",e)}},template:'<div class="com-table-panel" style="height: 100%;">\n\n            <div class="rows-block flex-v" style="height: 100%">\n\n\n              <div v-if="childStore.row_filters.length > 0" style="background-color: #fbfbf8;padding: 8px 1em;border-radius: 4px;margin-top: 8px">\n\n                     <com-table-filters></com-table-filters>\n\n               </div>\n\n               \x3c!--<div  v-if="childStore.ops.length>0 && childStore.tab_stack.length ==0">--\x3e\n               <div  v-if="childStore.ops.length>0">\n                        <com-table-operations></com-table-operations>\n               </div>\n\n                <div class="box box-success flex-v flex-grow" style="margin-bottom: 0">\n                    <div class="table-wraper flex-grow" style="position: relative;">\n\n                        <com-table-rows></com-table-rows>\n                    </div>\n                </div>\n            <div style="background-color: white;">\n                <com-table-pagination></com-table-pagination>\n            </div>\n\n        </div>\n    </div>'};window.com_table_panel=n,Vue.component("com-table-panel",n)},function(e,t,n){n(112);Vue.component("com-iframe-panel",{props:["ctx"],template:'<div class="com-iframe-panel">\n        <iframe :src="ctx.url" style="width: 100%;height:100%;vertical-align:top" scrolling="auto"></iframe>\n    </div>'})},function(e,t,n){var a=n(113);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-iframe-panel {\n  width: 100%;\n  height: 100%; }\n",""])},function(e,t,n){n(115);Vue.component("com-html-content-panel",{props:["ctx"],template:'<div class="com-html-content-panel" v-html="ctx.content"></div>'})},function(e,t,n){var a=n(116);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-html-content-panel {\n  padding: 4rem 3rem; }\n  .com-html-content-panel img {\n    max-width: 100%; }\n",""])},function(e,t,n){function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(118);var o={props:["ctx"],template:'<div class="com-panel-table-setting">\n    <div class="head-panel">\n        <div class="panel panel-info">\n            <div class="panel-heading">普通列</div>\n            <div style="padding: 10px">\n             <el-checkbox-group class="mygroup" v-model="heads_bucket._first_layer" data-name="_first_layer">\n                <el-checkbox v-for="head in first_layer_field" :data-id="head.name" :label="head.name" size="small" border>\n                    <i class="fa fa-level-down" aria-hidden="true" v-if="head.children"></i>\n                        <span v-text="head.label"></span>\n                </el-checkbox>\n             </el-checkbox-group>\n            </div>\n\n        </div>\n\n        <div class="panel panel-warning" v-for="field_group in group_field_list">\n             <div class="panel-heading"> <span v-text="field_group.label"></span></div>\n             <div style="padding: 10px">\n                  <el-checkbox-group class="mygroup" v-model="heads_bucket[field_group.name]" :data-name="field_group.name">\n                    <el-checkbox v-for="head in field_list(field_group.children)" :data-id="head.name" :label="head.name" size="small" border>\n                            <span v-text="head.label"></span>\n                    </el-checkbox>\n                  </el-checkbox-group>\n             </div>\n\n        </div>\n\n    </div>\n\n\n    <div class="mybtn-panel">\n         <el-button size="small" @click="clear_format()">恢复默认</el-button>\n         <el-button type="primary" size="small" @click="make_catch()">确定</el-button>\n    </div>\n\n    </div>',data:function(){var e=this.ctx.table_ps.advise_heads,t=this.ctx.table_ps.advise_order,n=ex.sort_by_names(this.ctx.table_ps.heads,t,!0),a=ex.filter(n,(function(e){return!e.sublevel})),o=ex.filter(n,(function(e){return e.children})),i=ex.map(a,(function(e){return e.name})),s={_first_layer:ex.filter(e,(function(e){return ex.isin(e,i)}))};return ex.each(o,(function(t){s[t.name]=ex.filter(e,(function(e){return ex.isin(e,t.children)}))})),{table_heads:n,advise_heads:e,advise_order:t,heads_bucket:s,order_bucket:{},first_layer_field:a,group_field_list:o}},mounted:function(){var e=this,t=$(this.$el).find(".mygroup");ex.each(t,(function(t){var n=$(t).attr("data-name"),o=[];e.order_bucket[n]=o,new Sortable(t,{animation:150,store:{set:function(e){o.splice.apply(o,[0,o.length].concat(a(e.toArray())))}}})}))},computed:{myheads:function(){return ex.filter(this.ctx.table_ps.heads,(function(e){return e.name}))}},methods:{field_list:function(e){return ex.filter(this.table_heads,(function(t){return ex.isin(t.name,e)}))},make_catch:function(){var e=this;for(var t in this.advise_heads=[],this.advise_order=[],this.heads_bucket){var n=this.heads_bucket[t];this.advise_heads=this.advise_heads.concat(n)}this.advise_order=this.order_bucket._first_layer,ex.each(this.group_field_list,(function(t){var n,o=e.advise_order.indexOf(t.name),i=e.order_bucket[t.name];(n=e.advise_order).splice.apply(n,[o,0].concat(a(i)))})),this.ctx.table_ps.advise_heads=this.advise_heads,this.advise_order.length>0&&(this.ctx.table_ps.advise_order=this.advise_order);t="_table_settings_"+this.ctx.table_ps.director_name;var o=localStorage.getItem(t);if(o)(i=JSON.parse(o)).advise_heads=this.advise_heads,this.advise_order.length>0&&(i.advise_order=this.advise_order);else var i={advise_heads:this.advise_heads,advise_width:{},advise_order:this.advise_order};if(localStorage.setItem(t,JSON.stringify(i)),this.advise_order.length>0){var s=ex.sort_by_names(this.ctx.table_ps.heads,this.advise_order,!0),r=this.ctx.table_ps.rows;this.ctx.table_ps.heads=[],this.ctx.table_ps.rows=[],setTimeout((function(){e.ctx.table_ps.heads=s,e.ctx.table_ps.rows=r,e.ctx.table_ps.$emit("data-updated-backend")}),200)}this.$emit("finish")},clear_format:function(){var e="_table_settings_"+this.ctx.table_ps.director_name;localStorage.clear(e),this.$emit("finish"),cfg.show_load(),location.reload()}}};Vue.component("com-panel-table-setting",(function(e,t){ex.load_js_list([js_config.js_lib.sortablejs,"https://cdnjs.cloudflare.com/ajax/libs/Vue.Draggable/2.20.0/vuedraggable.umd.min.js"],(function(){e(o)}))}))},function(e,t,n){var a=n(119);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-panel-table-setting .head-panel {\n  padding: 20px;\n}\n.com-panel-table-setting .mybtn-panel {\n  padding: 30px 50px;\n  text-align: right;\n}\n.com-panel-table-setting label[role=checkbox]:first-child {\n  margin-left: 10px;\n}\n",""])},function(e,t){Vue.component("com-layout-grid",{prop:["ctx"],template:"<div>\n    this is grid\n    </div>"})},function(e,t,n){n(122),Vue.component("com-chart-plain",{props:["ctx"],data:function(){return{barRows:[],rows:[],parStore:ex.vueParStore(this)}},template:' <div class="com-chart-plain" :class="ctx.class" :style="ctx.style"></div>',mounted:function(){this.myChart=echarts.init(this.$el),this.parStore.$on("data-updated-backend",this.update_chart),this.ctx.css&&ex.append_css(this.ctx.css)},methods:{update_chart:function(){var e=this;if(this.ctx.source_rows)var t=ex.eval(this.ctx.source_rows,{ps:this.parStore});else t=this.parStore.rows;if(this.ctx.xdata)var n=ex.map(t,(function(t){return t[e.ctx.xdata]}));else n=ex.eval(this.ctx.xdata_express,{rows:t});var a=[],o=[];this.ctx.ydata?ex.each(this.ctx.ydata,(function(e){var n=ex.map(t,(function(t){return t[e.name]}));a.push({name:e.label,type:e.type,data:n,barMaxWidth:30,itemStyle:{normal:{color:e.color}}}),o.push(e.label)})):ex.eval(this.ctx.ydata_express,{rows:t,ydata_list:a,legend_list:o});var i={title:{text:this.ctx.title},tooltip:{},legend:{data:o},xAxis:{data:n},yAxis:{},series:a};this.ctx.echarts_option&&ex.mergeObject(i,this.ctx.echarts_option),this.myChart.setOption(i)}},watch:{barRows:function(e){var t=ex.map(e,(function(e){return e.time})),n=ex.map(e,(function(e){return e.amount})),a={title:{},tooltip:{},xAxis:{data:t},yAxis:{},series:[{name:this.trend.label,type:"bar",data:n}]};this.myChart.setOption(a)}}})},function(e,t,n){var a=n(123);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-chart-plain {\n  border: 1px dashed #e5e5e5;\n  height: 400px;\n  width: 500px;\n  display: inline-block;\n}\n",""])},function(e,t){Vue.component("com-chart-radar",{props:["ctx"],data:function(){return{barRows:[],rows:[],parStore:ex.vueParStore(this)}},template:' <div class="com-chart-plain com-chart-radar" style="height:400px;width: 500px;display: inline-block"></div>',mounted:function(){this.myChart=echarts.init(this.$el),this.parStore.$on("data-updated-backend",this.update_chart),this.update_chart()},methods:{update_chart:function(){var e=this;if(this.ctx.source_rows)var t=ex.eval(this.ctx.source_rows,{ps:this.parStore});else t=this.parStore.rows;var n=ex.map(t,(function(t){return{name:t[e.ctx.xdata],max:5e3,min:-5e3}})),a=[],o=[];ex.each(this.ctx.ydata,(function(e){var n=ex.map(t,(function(t){return t[e.name]}));a.push({name:e.label,value:n}),o.push(e.label)}));var i={title:{text:this.ctx.title},tooltip:{},legend:{data:o},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:n},series:[{name:"xxx",type:"radar",data:a}]};this.myChart.setOption(i)}}})},function(e,t,n){(e.exports=n(0)()).push([e.i,".sim-fields .table-fields {\n  width: 100%; }\n\n.sim-fields .field-label-td {\n  padding-right: 1em;\n  padding-bottom: 1em;\n  text-align: left; }\n\n.sim-fields .field-input-td {\n  padding-bottom: 1em; }\n\n.sim-fields .field-label {\n  text-align: left; }\n  .sim-fields .field-label .label-content {\n    max-width: 12rem;\n    word-break: break-all;\n    position: relative;\n    display: inline-block; }\n    .sim-fields .field-label .label-content .req_star {\n      top: -0.3em;\n      right: -0.6em; }\n\n.sim-fields .field-input {\n  text-align: left;\n  position: relative; }\n\n.sim-fields .help-text {\n  position: relative;\n  top: -2rem;\n  right: auto; }\n\n.sim-fields .submit-block {\n  margin-top: 1em;\n  text-align: left; }\n  .sim-fields .submit-block button {\n    min-width: 10em;\n    padding-left: 2em;\n    padding-right: 2em; }\n\n.sim-fields.no-label .field-label-td {\n  display: none; }\n\n.sim-fields.no-label .field-input {\n  width: 100%;\n  text-align: left; }\n\n.sim-fields.no-label .table-fields {\n  width: 100%; }\n\n.sim-fields.no-label .submit-block {\n  margin-top: 1em;\n  text-align: left; }\n  .sim-fields.no-label .submit-block button {\n    width: 100%; }\n\n.sim-fields.field-panel.pop {\n  padding-top: 8px; }\n  .sim-fields.field-panel.pop .field-input {\n    width: 20em; }\n  .sim-fields.field-panel.pop .submit-block {\n    margin-top: 10px; }\n    .sim-fields.field-panel.pop .submit-block button {\n      min-width: 8em; }\n\n.sim-fields.field-panel.mb {\n  padding: 1em; }\n  .sim-fields.field-panel.mb .field-label {\n    min-width: 5em;\n    text-align: right; }\n  .sim-fields.field-panel.mb .field-input {\n    width: auto; }\n  .sim-fields.field-panel.mb .submit-block {\n    margin-top: 10px; }\n    .sim-fields.field-panel.mb .submit-block button {\n      width: 100%; }\n",""])},function(e,t){window.pop_edit_local=function(e,t,n,a){var o={methods:{save:function(){var e=this;return this.isValid()&&this.$emit("submit-success",this.row),new Promise((function(t,n){t(e.row)}))}}};return t.extra_mixins?t.extra_mixins=[o].concat(t.extra_mixins):t.extra_mixins=[o],pop_fields_layer(e,t,n,a)}},function(e,t,n){n(128);var a={props:{heads:"",row:"",okBtn:{default:function(){return"确定"}},btnCls:{default:function(){return"btn-primary btn-sm"}}},data:function(){return{}},created:function(){this.okBtn||(this.okBtn="确定")},components:window._baseInput,mixins:[mix_fields_data,mix_nice_validator],template:' <div class="field-panel plain-field-panel">\n        <div class="field" v-for="head in heads">\n            <label for="" v-text="head.label"></label>\n            <span class="req_star" v-if=\'head.required\'>*</span>\n             <span v-if="head.help_text" class="help-text clickable">\n                    <i style="color: #3780af;position: relative;top:10px;" @click="show_msg(head.help_text,$event)" class="fa fa-question-circle" ></i>\n              </span>\n              <div class="field-input">\n                <component v-if="head.editor" :is="head.editor"\n                     @field-event="$emit(\'field-event\',$event)"\n                     :head="head" :row="row"></component>\n            </div>\n\n        </div>\n\n        <div class="submit-block">\n            <button @click="panel_submit" type="btn"\n                :class="[\'btn\',btnCls]"><span v-text="okBtn"></span></button>\n        </div>\n        </div>',methods:{panel_submit:function(){this.$listeners&&this.$listeners.submit?this.isValid()&&this.$emit("submit",this.row):this.submit()},show_msg:function(e,t){layer.tips(e,t.target)}}};window.com_plain_fields=a,Vue.component("com-plain-field-panel",a)},function(e,t,n){var a=n(129);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".plain-field-panel .submit-block {\n  text-align: center;\n  margin-top: 2em; }\n  .plain-field-panel .submit-block .btn {\n    min-width: 10em; }\n",""])},function(e,t){function n(e){return e.search_args=e.search_args||{},e.row_sort=e.row_sort||{sortable:[]},e.footer=e.footer||[],e.ops=e.ops||[],e.row_pages=e.row_pages||{crt_page:1,total:0,perpage:20},e.row_filters=e.row_filters||[],e.director_name=e.director_name||"",null==e.selectable&&(e.selectable=!0),e}var a={props:["bus"],created:function(){this.bus.table=this},data:function(){return{heads:this.bus.heads,search_args:this.bus.search_args,row_sort:this.bus.row_sort}},mounted:function(){this.bus.eventBus.$on("search",this.bus_search),this.bus.eventBus.$on("pageindex-change",this.get_page),this.bus.eventBus.$on("operation",this.on_operation),this.bus.eventBus.$on("perpage-change",this.on_perpage_change)},methods:{bus_search:function(e){ex.assign(this.search_args,e),this.search()}},computed:{rows:{get:function(){return this.bus.rows},set:function(e){this.bus.rows=e}},footer:{get:function(){return this.bus.footer},set:function(e){this.bus.footer=e}}},mixins:[mix_table_data,mix_ele_table_adapter],template:'  <el-table class="table flat-head" ref="e_table"\n                              :data="rows"\n                              border\n                              show-summary\n                              :fit="false"\n                              :stripe="true"\n                              size="mini"\n                              @sort-change="sortChange($event)"\n                              @selection-change="handleSelectionChange"\n                              :summary-method="getSum">\n                        <el-table-column v-if="bus.selectable"\n                                type="selection"\n                                width="55">\n                        </el-table-column>\n\n                        <template  v-for="head in heads">\n\n                            <el-table-column v-if="head.editor"\n                                             :show-overflow-tooltip="is_show_tooltip(head) "\n                                             :label="head.label"\n                                             :prop="head.name.toString()"\n                                             :sortable="is_sort(head)"\n                                             :width="head.width">\n                                <template slot-scope="scope">\n                                    <component :is="head.editor"\n                                               @on-custom-comp="on_td_event($event)"\n                                               :row-data="scope.row" :field="head.name" :index="scope.$index">\n                                    </component>\n\n                                </template>\n\n                            </el-table-column>\n\n                            <el-table-column v-else\n                                             :show-overflow-tooltip="is_show_tooltip(head) "\n                                             :prop="head.name.toString()"\n                                             :label="head.label"\n                                             :sortable="is_sort(head)"\n                                             :width="head.width">\n                            </el-table-column>\n\n                        </template>\n\n                    </el-table>\n'},o={props:["bus"],data:function(){return{row_pages:this.bus.row_pages,search_args:this.bus.search_args}},methods:{on_page_change:function(e){this.bus.eventBus.$emit("pageindex-change",e)},on_perpage_change:function(e){this.bus.eventBus.$emit("perpage-change",e)}},template:' <el-pagination\n                         @size-change="on_perpage_change"\n                        @current-change="on_page_change"\n                        :current-page="row_pages.crt_page"\n                        :page-sizes="[20, 50, 100]"\n                        :page-size="row_pages.perpage"\n                        layout="total, sizes, prev, pager, next, jumper"\n                        :total="row_pages.total">\n                </el-pagination>'};Vue.component("com-table-bus",a),Vue.component("com-table-bus-ops",{props:["bus"],template:'<div class="oprations" style="padding: 5px;">\n                <component v-for="op in ops"\n                           :is="op.editor"\n                           :ref="\'op_\'+op.name"\n                           :head="op"\n                           @operation="on_operation(op)"></component>\n            </div>',data:function(){return{ops:this.bus.ops}},methods:{get_attr:function(e){return this.bus.table.get_attr(e)},on_operation:function(e){this.bus.eventBus.$emit("operation",e)}}}),Vue.component("com-table-bus-filter",{props:["bus"],computed:{},template:' <com-filter class="flex" :heads="bus.row_filters" :search_args="bus.search_args"\n                        @submit="search()"></com-filter>',methods:{search:function(){this.bus.eventBus.$emit("search",this.bus.search_args)}}}),Vue.component("com-table-bus-page",o),window.init_table_ctx=n,window.init_table_bus=function(e){return(e=n(e)).eventBus=new Vue,e},window.bus_ele_table_logic=a,window.ele_table_logic=a,window.ele_table_page_logic=o},function(e,t){$.validator.config({rules:{mobile:[/^1[3-9]\d{9}$/,"请填写有效的手机号"],chinese:[/^[\u0391-\uFFE5]+$/,"请填写中文字符"],number:function(e,t){if(!e.value)return!0;return RegExp("^(\\-|\\+)?\\d+(\\.\\d+)?$").test(e.value)||"请输入数字"},digit:function(e,t){var n=t[0],a="\\.\\d{0,".concat(n,"}$|^[\\d]+$");return RegExp(a).test(e.value)||"请输入有效位数为"+n+"的数字"},dot_split_int:function(e,t){return/^(\d+[,])*(\d+)$/.test(e.value)||"请输入逗号分隔的整数"},ip:[/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,"请填写有效的 IP 地址"],regexp:function(e,t){return new RegExp(t).test(e.value)||"不满足规则"},express:function(e,t){var n=ex.atou(t[0]);if(t[1])var a=ex.atou(t[1]);else a="不满足规则";return ex.eval(n,{value:e.value,element:e})||a},myremote:function(e,t){var n=ex.atou(t[0]);return ex.eval(n,{value:e.value,element:e})},key_unique:function(e,t){var n=t,a=$(e).val();if(!a)return!0;var o=JSON.parse(a),i={};ex.each(n,(function(e){i[e]=[]}));for(var s=0;s<o.length;s++)for(var r=o[s],l=0;l<n.length;l++){var c=n[l];if(ex.isin(r[c],i[c]))return c+"重复了";i[c].push(r[c])}return!0},group_unique:function(e,t){var n=t,a=$(e).val();if(!a)return!0;for(var o=JSON.parse(a),i=[],s=0;s<o.length;s++){var r=o[s],l="";if(ex.each(n,(function(e){l+=r[e]})),ex.isin(l,i))return l+"重复了";i.push(l)}return!0}}})},function(e,t,n){n(133),Vue.component("com-head-dropdown",{props:["head"],template:'<div class="com-head-userinfo">\n    <div style="z-index:200" class="login" >\n        <el-dropdown class="com-head-userinfo">\n          <span class="el-dropdown-link">\n          <span v-html="head.label"></span>\n            <i class="el-icon-arrow-down el-icon--right"></i>\n          </span>\n          <el-dropdown-menu slot="dropdown">\n            <el-dropdown-item v-for="action in head.options">\n                <a class="com-head-dropdown-action" :href="action.link" v-text="action.label"></a>\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n    </div>\n    </div>'})},function(e,t,n){var a=n(134);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-head-dropdown-action {\n  display: inline-block;\n  min-width: 8em;\n  text-align: center; }\n",""])},function(e,t,n){n(136),Vue.component("com-head-sm-link",{props:["head"],template:'<div class="small-link">\n    <span class="item" v-for="action in head.options">\n        <a  @click="on_click(action)" class="login-link clickable" v-text="action.label"></a>\n        <span class="space" v-if="action != head.options[head.options.length-1]">&nbsp;|&nbsp;</span>\n    </span>\n    </div>',methods:{on_click:function(e){this.$listeners&&this.$listeners.jump?this.$emit("jump",e):location=e.link}}})},function(e,t,n){var a=n(137);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,"@media (max-width: 900px) {\n  /*.small-link{*/\n  /*.item{*/\n  /*display: block;*/\n  /*color:white;*/\n  /*margin: 0.6em 1.2em;*/\n  /*a{*/\n  /*color: white;*/\n  /*}*/\n  /*.space{*/\n  /*display: none;*/\n  /*}*/\n  /*}*/\n  /*}*/ }\n\n.small-link.vertical .item {\n  display: block;\n  color: white;\n  margin: 0.6em 1.2em; }\n  .small-link.vertical .item a {\n    color: white; }\n  .small-link.vertical .item .space {\n    display: none; }\n",""])},function(e,t,n){n(5),Vue.component("com-headbar-sys-link",{props:["head"],template:'<li :class="[\'com-headbar-sys-link user-menu\',{active:head.active,link:head.link}]" @click="on_click()">\n    <span v-text="head.label"></span>\n    </li>',methods:{on_click:function(){this.head.link&&(location=this.head.link)}}})},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-headbar-sys-link {\n  height: 100%;\n  padding: 15px;\n  line-height: 20px;\n  float: right;\n  color: #dcdcdc;\n}\n.com-headbar-sys-link.active {\n  color: #fdf7ff;\n  background-color: #980000;\n}\n.com-headbar-sys-link.active:hover {\n  background-color: #bd0000;\n}\n.com-headbar-sys-link:hover {\n  background: rgba(0,0,0,0.1);\n  color: #f6f6f6;\n}\n.com-headbar-sys-link.link:hover {\n  cursor: pointer;\n}\n.com-headbar-space {\n  display: inline-block;\n  float: right;\n  height: 10px;\n}\n",""])},function(e,t){var n={props:["head"],template:' <li class="dropdown user user-menu">\n                        \x3c!-- Menu Toggle Button --\x3e\n                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">\n                            \x3c!-- The user image in the navbar--\x3e\n                            \x3c!--<img src="dist/img/user2-160x160.jpg" class="user-image" alt="User Image">--\x3e\n                            <i class="fa fa-user-circle-o"></i>\n\n                            \x3c!-- hidden-xs hides the username on small devices so only the image appears. --\x3e\n                            <span class="hidden-xs" v-text="head.first_name || head.username">\n                            </span>\n                        </a>\n                        <ul class="dropdown-menu">\n                            \x3c!-- The user image in the menu --\x3e\n                            <li class="user-header" style="font-size: 3em;">\n                                \x3c!--<img src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">--\x3e\n                                <i class="fa fa-user-circle-o fa-lg"></i>\n                                <p v-text="head.first_name || head.username">\n                                </p>\n                            </li>\n                            \x3c!-- Menu Body --\x3e\n                            \x3c!--<li class="user-body">--\x3e\n                                \x3c!--<div class="row">--\x3e\n                                    \x3c!--<div class="col-xs-4 text-center">--\x3e\n                                        \x3c!--<a href="#">Followers</a>--\x3e\n                                    \x3c!--</div>--\x3e\n                                    \x3c!--<div class="col-xs-4 text-center">--\x3e\n                                        \x3c!--<a href="#">Sales</a>--\x3e\n                                    \x3c!--</div>--\x3e\n                                    \x3c!--<div class="col-xs-4 text-center">--\x3e\n                                        \x3c!--<a href="#">Friends</a>--\x3e\n                                    \x3c!--</div>--\x3e\n                                \x3c!--</div>--\x3e\n                                \x3c!--&lt;!&ndash; /.row &ndash;&gt;--\x3e\n                            \x3c!--</li>--\x3e\n                            \x3c!-- Menu Footer--\x3e\n                            <li class="user-footer">\n                                <div class="pull-left">\n                                    <a href="/accounts/pswd" class="btn btn-default btn-flat" v-text="tr.change_password"></a>\n                                </div>\n                                <div class="pull-right">\n                                    <a href="/accounts/logout" class="btn btn-default btn-flat" v-text="tr.logout"></a>\n                                </div>\n                            </li>\n                        </ul>\n                    </li>',data:function(){return{tr:cfg.tr}}};Vue.component("com-headbar-user-info",n)},function(e,t,n){n(5),Vue.component("com-headbar-space",{props:["head"],template:'<li :class="[\'com-headbar-space\',head.class]" :style="head.style">\n    </li>'})},function(e,t){Vue.component("com-head-bell-msg",{props:["head"],template:' <li  class="com-head-bell-msg dropdown notifications-menu" @click="on_click()">\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown">\n            <i class="fa fa-bell-o"></i>\n            <span v-if="head.count !=0 " class="label label-warning" v-text="head.count"></span>\n        </a>\n    </li>',mounted:function(){this.head.init_express&&ex.eval(this.head.init_express,{head:this.head,vc:this})},methods:{on_click:function(){this.head.link&&(location=this.head.link)}}})},function(e,t,n){n(144),Vue.component("com-widget-stack",{props:["ctx_list"],template:'<div class="com-widget-stack">\n        <component v-for="(ctx,index) in ctx_list" v-show="index==ctx_list.length-1"\n            :is="ctx.widget" :ctx="ctx" @win-event="$emit(\'win-event\',$event)"></component>\n    </div>'})},function(e,t,n){var a=n(145);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-widget-stack {\n  position: absolute;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  right: 0; }\n",""])},function(e,t){var n={props:["ctx"],template:'<div class="tab-full active-tab-hightlight-top" style="position: absolute;bottom: 0;top: 0;left: 0;right: 0;" >\n     <el-tabs  v-if="ctx.tabs.length >1" type="border-card"\n                           @tab-click="handleClick"\n                           style="width: 100%;height: 100%;"\n                           :value="ctx.crt_tab_name" >\n\n                    \x3c!--<el-tab-pane v-for="tab in normed_tab( tabgroup.tabs )"--\x3e\n                    <el-tab-pane v-for="tab in normed_tab"\n                                lazy\n                                 :key="tab.name"\n                                 :name="tab.name">\n                        <span slot="label" v-text="tab.label" ></span>\n                        \x3c!--<span v-if="!tab._loaded"></span>--\x3e\n                        <component :is="tab.com || tab.editor" :tab_head="tab"\n                                   :par_row="ctx.par_row"\n                                   :ref="\'_tab_\'+tab.name" @tab-event="up_event($event)"></component>\n\n\n                    </el-tab-pane>\n                </el-tabs>\n\n                <component v-else v-for="tab in ctx.tabs"  :is="tab.com" :tab_head="tab"\n                           :par_row="ctx.par_row"\n                           :ref="\'_tab_\'+tab.name" @tab-event="up_event($event)"></component>\n    </div>',data:function(){return{is_mounted:!1}},watch:{},created:function(){},mounted:function(){this.is_mounted=!0,this.show_tab(this.ctx.crt_tab_name)},computed:{normed_tab:function(){var e=this.ctx.tabs,t=this.ctx.par_row;return ex.filter(e,(function(e){return!e.show||ex.eval(e.show,{par_row:t})}))}},methods:{show_tab:function(e){this.ctx.crt_tab_name=e},handleClick:function(e,t){this.show_tab(e.name)},up_event:function(e){this.$emit("win-event",e)}}};Vue.component("com-widget-el-tab",n),window.live_el_tab=n},function(e,t){},function(e,t,n){n(149),Vue.component("com-fields-table-block",{props:["heads","row","option"],template:'<div class="com-fields-table-block field-panel msg-bottom">\n           <table >\n            <tr v-for="heads_row in table_grid_heads">\n                <template v-for="head in heads_row">\n                    <td class="field-label-td" :class="head.class"  :colspan="head.label_colspan" :rowspan="head.label_rowspan">\n                        <div class="field-label">\n                            <span class="label-content">\n                                 <span v-text="head.label"></span>\n                            </span>\n                             <span class="req_star" v-if=\'head.required\'>*</span>\n                        </div>\n                    </td>\n                    <td class="field-input-td" :class="head.class" :colspan="head.colspan" :rowspan="head.rowspan">\n                        <div class="field-input">\n                            <component v-if="head.editor" :is="head.editor"\n                                 @field-event="$emit(\'field-event\',$event)"\n                                 :head="head" :row="row"></component>\n                            <span v-if="head.help_text" class="help-text clickable" @mouseenter="show_msg(head.help_text,$event)" @mouseleave="hide_msg()">\n                                 <i style="color: #3780af;"   class="fa fa-question-circle" ></i>\n                            </span>\n                        </div>\n                    </td>\n                </template>\n            </tr>\n        </table>\n       </div>',computed:{table_grid_heads:function(){var e=this,t=this.option.table_grid,n=[];return ex.each(t,(function(t){var a=[];ex.each(e.heads,(function(e){ex.isin(e.name,t)&&a.push(e)})),a&&n.push(a)})),n}},methods:{show_msg:function(e,t){this.msg_index=layer.tips(e,t.target,{time:0})},hide_msg:function(){layer.close(this.msg_index)}}})},function(e,t,n){var a=n(150);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-fields-table-block.field-panel {\n  background-color: #fafafa;\n  padding: 5px 20px;\n  position: relative;\n  border: 1px solid #f6f6f6;\n}\n.com-fields-table-block.field-panel td {\n  padding: 8px 5px;\n  position: relative;\n}\n.com-fields-table-block.field-panel td .field-label {\n  text-align: right;\n}\n.com-fields-table-block .field-label {\n  display: flex;\n}\n.com-fields-table-block .field-label .label-content {\n  min-width: 4em;\n}\n.com-fields-table-block .field-label .req_star {\n  position: relative;\n  color: #f00;\n}\n.com-fields-table-block .field-input {\n  position: relative;\n  display: flex;\n}\n.com-fields-table-block .field-input .help-text {\n  display: inline-block;\n  padding: 0 3px;\n}\n.com-fields-table-block .field-input span.readonly-info {\n  background-color: #f5f5f5;\n  border: 1px solid #ebebeb;\n  color: #808080;\n  height: 30px;\n  display: inline-block;\n  padding: 3px;\n}\n",""])},function(e,t){var n={props:["rowData","field","index"],template:'<div><span v-text="show_text" ></span></div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field}),this.parStore=ex.vueParStore(this)},computed:{show_text:function(){var e=this.parStore.row_pages.perpage,t=this.parStore.row_pages.crt_page;return this.index+1+(t-1)*e}}};Vue.component("com-table-sequence",n)},function(e,t){var n={props:["rowData","field","index"],template:'<div v-text="rowData[field]" :style="my_style"></div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{my_style:function(){return ex.eval(this.head.style_express,{row:this.rowData})}}};Vue.component("com-table-style-block",n)},function(e,t){var n={props:["rowData","field","index"],template:'<div class="com-table-ops-cell">\n        \x3c!--<span style="margin-right: 1em" v-for="op in head.operations" v-show="! rowData[\'_op_\'+op.name+\'_hide\']" class="clickable" v-text="op.label" @click="on_click()"></span>--\x3e\n        <component v-for="op in head.ops" :is="op.editor" :head="op" @operation="on_operation($event)"></component>\n    </div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},mounted:function(){this.parStore=ex.vueParStore(this)},methods:{on_operation:function(e){e.action&&ex.eval(e.action,{ps:this.parStore,head:this.head,row:this.rowData})}}};Vue.component("com-table-ops-cell",n)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={props:["rowData","field","index"],template:'<span v-text="show_text"></span>',computed:{show_text:function(){var e=this.rowData[this.field];return null==e?"":"object"==n(e)?JSON.stringify(e):this.rowData[this.field]}}};Vue.component("com-table-span",a)},function(e,t){var n={props:["rowData","field","index"],template:'<span v-text="show_data"></span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{show_data:function(){return this.rowData[this.field]?this.rowData[this.field].join(";"):""}}};Vue.component("com-table-array-shower",n)},function(e,t){var n={props:["rowData","field","index"],template:'<div class="com-table-click clickable" @click="on_click()" style="display: inline-block">\n        <component v-if="head.inn_editor"\n            :is="head.inn_editor"\n            :row-data="rowData" :field="field" :index="index"></component>\n        <span v-else="" v-text="rowData[field]" ></span>\n    </div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field}),this.parStore=ex.vueParStore(this)},methods:{on_click:function(){ex.eval(this.head.action,{row:this.rowData,head:this.head,ps:this.parStore})}}};Vue.component("com-table-click",n)},function(e,t){Vue.component("com-table-json",{props:["rowData","field","index"],template:'<span class="com-table-json" v-text="show_text">\n    </span>',computed:{show_text:function(){return this.rowData[this.field]?JSON.stringify(this.rowData[this.field]):""}}})},function(e,t){var n={props:["rowData","field","index"],template:'<div class="com-table-multi-image" style="white-space: nowrap">\n    <div v-for="image in image_list" style="display: inline-block;margin: 3px;">\n        <img @click="big_win(image)" style="max-height: 100px;max-width:100px;"  :src="image" alt="图片不能显示">\n    </div>\n\n    </div>',created:function(){},computed:{image_list:function(){return this.rowData[this.field]?this.rowData[this.field]:[]}},methods:{big_win:function(e){pop_layer({imgsrc:e},"com-pop-image",(function(){}),{title:!1,area:["90%","90%"],shade:.8,skin:"img-shower",shadeClose:!0})}}};Vue.component("com-table-multi-image",n)},function(e,t){var n={props:["rowData","field","index"],template:'<div :class="[\'com-table-map-html\',head.class]" v-html="show_label"></div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{show_label:function(){this.rowData[this.field];if(this.head.map_express)return ex.eval(this.head.map_express,{head:this.head,row:this.rowData})}},mounted:function(){this.head.css&&ex.append_css(this.head.css)}};Vue.component("com-table-map-html",n)},function(e,t){var n={props:["rowData","field","index"],template:'<span class="com-table-link clickable" v-text="rowData[field]" @click="on_click">\n    </span>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},data:function(){return{parStore:ex.vueParStore(this)}},methods:{on_click:function(){ex.eval(this.head.action,{head:this.head,row:this.rowData,ps:this.parStore})}}};Vue.component("com-table-link",n)},function(e,t,n){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(162);var o={props:["rowData","field","index"],template:'<div :class="[\'com-table-rich-span\',myclass]" :style="mystyle">\n <component v-if="head.inn_editor"\n            :is="head.inn_editor"\n            :row-data="rowData" :field="field" :index="index"></component>\n            <span v-else v-text="show_text"></span>\n</div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field}),this.parStore=ex.vueParStore(this)},mounted:function(){this.head.css&&ex.append_css(this.head.css),this.on_row_change()},watch:{rowData:{handler:function(e){this.on_row_change()},deep:!0}},methods:{on_row_change:function(){this.head.row_change_express&&ex.eval(this.head.row_change_express,{row:this.rowData,head:this.head,td:$(this.$el).parents("td").first()})},light_level:function(e){e=e.slice(1);return.299*(16*parseInt(e[0],16)+parseInt(e[1],16))+.587*(16*parseInt(e[2],16)+parseInt(e[3],16))+.114*(16*parseInt(e[4],16)+parseInt(e[5],16))},hexToReverse:function(e){e=e.slice(1);var t=0,n=0,a=0;return t=255-16*parseInt(e[0],16)-parseInt(e[1],16),n=255-16*parseInt(e[2],16)-parseInt(e[3],16),a=255-16*parseInt(e[4],16)-parseInt(e[5],16),"#"+((t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase())+(n<16?"0"+n.toString(16).toUpperCase():n.toString(16).toUpperCase())+(a<16?"0"+a.toString(16).toUpperCase():a.toString(16).toUpperCase()))}},computed:{mystyle:function(){if(this.head.style)return ex.eval(this.head.style,{row:this.rowData,head:this.head,vc:this})},show_text:function(){var e=this.rowData[this.field];return null==e?"":"object"==a(e)?JSON.stringify(e):this.rowData[this.field]},myclass:function(){return this.head.cell_class?ex.eval(this.head.cell_class,{row:this.rowData,head:this.head}):""}}};Vue.component("com-table-rich-span",o)},function(e,t,n){var a=n(163);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-table-rows .middle-col {\n  text-align: center !important;\n}\n.com-table-rows .btn-like-col .com-table-rich-span {\n  border-radius: 3px;\n  font-size: 80%;\n  display: inline-block;\n  height: 16px;\n  padding: 0 5px;\n  line-height: 16px;\n  min-width: 40px;\n}\n.com-table-rows .btn-like-col .com-table-rich-span.warning {\n  color: #fff;\n  background-color: #f56d6d;\n}\n.com-table-rows .btn-like-col .com-table-rich-span.success {\n  color: #fff;\n  background-color: #3db035;\n}\n.com-table-rows .btn-like-col .com-table-rich-span.primary {\n  color: #fff;\n  background-color: #499cff;\n}\n.com-table-rows .btn-like-col .com-table-rich-span.ignore {\n  color: #f0f0f0;\n  background-color: #909399;\n}\n",""])},function(e,t,n){n(165);var a={props:["rowData","field","index"],template:'<div class="com-field-multi-row">\n    <div class="myrow" v-for="(row,rindex) in rowData[head.rows_field]" >\n        <component :is="head.row_editor" :rowData="row" :field="head.name" :index="rindex"></component>\n    </div>\n    </div>',data:function(){return this.init_head(),{parStore:ex.vueParStore(this)}},mounted:function(){var e=this;setTimeout((function(){e.update_title()}),1e3),this.parStore.$on("header-dragend",this.on_drag)},computed:{mydata:function(){var e=this,t=this.rowData[this.head.rows_field];return ex.map(t,(function(t){return t[e.field]}))}},watch:{mydata:function(){var e=this;setTimeout((function(){e.update_title()}),1e3)}},methods:{init_head:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},on_drag:function(e){var t=this;e.column.property==this.field&&setTimeout((function(){t.update_title()}),1e3)},update_title:function(){ex.each($(this.$el).find(".myrow"),(function(e){$(e).width()<$(e).find("span").width()?$(e).attr("title",e.textContent):$(e).attr("title","")}))}}};Vue.component("com-field-multi-row",a)},function(e,t,n){var a=n(166);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-field-multi-row .myrow:not(:last-child):after {\n  content: '';\n  display: block;\n  width: 100%;\n  height: 0;\n  border-bottom: 1px solid #e2e2e2;\n  left: 0;\n  position: absolute;\n}\n.com-field-multi-row div.myrow {\n  padding: 5px 0;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.com-field-multi-row div.myrow span {\n  display: inline-block;\n  height: 1em;\n}\n",""])},function(e,t){var n={props:["rowData","field","index"],template:'<div class="com-table-color" style="width:5em;height: 2em" :style="{background: rowData[field]}">\n\n    </div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},data:function(){return{parStore:ex.vueParStore(this)}}};Vue.component("com-table-color",n)},function(e,t,n){n(169);var a={props:["rowData","field","index"],template:'<div class="com-table-icon-cell">\n        <div class="icon-item" v-for="icon in myicons">\n            <img :src="icon.url" alt="" :title="icon.label">\n        </div>\n    </div>',created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},computed:{myicons:function(){return ex.eval(this.head.icon_express,{row:this.rowData})}},mounted:function(){this.parStore=ex.vueParStore(this)},methods:{on_operation:function(e){e.action&&ex.eval(e.action,{ps:this.parStore,head:this.head,row:this.rowData})}}};Vue.component("com-table-icon-cell",a)},function(e,t,n){var a=n(170);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-table-icon-cell .icon-item {\n  display: inline-block;\n  padding: 2px;\n}\n.com-table-icon-cell .icon-item img {\n  height: 14px;\n}\n",""])},function(e,t){var n={props:["ctx"],created:function(){},data:function(){var e=ex.vueParStore(this),t={};if(ex.each(e.heads,(function(e){t[e.name]=e})),e.advise_heads&&e.advise_heads.length>0){var n="_table_settings_"+e.director_name,a=localStorage.getItem(n);if(a){(o=JSON.parse(a)).advise_width=o.advise_width||{},o.advise_order=o.advise_order||[],ex.each(e.heads,(function(e){o.advise_width[e.name]&&(e.width=o.advise_width[e.name])}))}else{var o={advise_heads:e.advise_heads,advise_width:{},advise_order:[]};localStorage.setItem(n,JSON.stringify(o))}e.advise_heads=o.advise_heads,e.advise_width=o.advise_width||{},e.advise_order=o.advise_order||[]}else e.advise_heads=[],e.advise_width={},e.advise_order=[];return e.advise_order.length>0&&(e.heads=ex.sort_by_names(e.heads,e.advise_order,!0)),{parStore:e,heads:e.heads,keyed_heads:t,search_args:e.search_args,row_sort:e.row_sort}},mounted:function(){this.parStore.e_table=this.$refs.e_table,this.parStore.$on("data-updated-backend",this.on_data_updated),ex.each(this.parStore.heads,(function(e){e.style&&ex.append_css(e.style)}))},computed:{default_sort:function(){var e=this.parStore.row_sort.sort_str;if(!e)return{};var t=e.split(",");if((e=t[0]).startsWith("-"))var n=e.slice(1),a="descending";else n=e,a="ascending";return{prop:n,order:a}},normed_heads:function(){var e=this,t=[];if(this.parStore.advise_heads.length>0)var n=ex.filter(this.parStore.heads,(function(t){return ex.isin(t.name,e.parStore.advise_heads)}));else n=this.parStore.heads;return ex.each(n,(function(n){n.show&&!ex.eval(n.show,{ps:e.parStore,vc:e,head:n})||t.push(n)})),t},rows:function(){return this.parStore.rows},selected:function(){return this.parStore.selected}},watch:{selected:function(e,t){var n=this;0==e.length&&0!=t.length?this.$refs.e_table.clearSelection():(ex.each(t,(function(t){-1==e.indexOf(t)&&n.$refs.e_table.toggleRowSelection(t,!1)})),ex.each(e,(function(e){-1==t.indexOf(e)&&n.$refs.e_table.toggleRowSelection(e,!0)})))}},mixins:[mix_table_data,mix_ele_table_adapter],template:'<div class="com-table-grid" style="position: absolute;top:0;left:0;bottom: 0;right:0;">\n        <el-table class="table flat-head" ref="e_table"\n                              :data="rows"\n                               border\n                              show-summary\n                              :row-class-name="tableRowClassName"\n                              :span-method="parStore.arraySpanMethod"\n                              :fit="false"\n                              :stripe="true"\n                              :default-sort=\'default_sort\'\n                              size="mini"\n                              height="100%"\n                              style="width: 100%"\n                              @header-dragend="on_header_dragend"\n                              @sort-change="on_sort_change($event)"\n                              @selection-change="parStore.handleSelectionChange"\n                              :summary-method="getSum">\n\n                        <el-table-column v-if="parStore.selectable"\n                                type="selection"\n                                width="50">\n                        </el-table-column>\n                        <template v-for="(head,index) in normed_heads">\n                             <el-table-column v-if="head.children"\n                                :label="head.label"\n                                :key="head.name"\n                                 :class-name="head.class">\n                                   <el-table-column v-for="head2 in name_in_list(head.children)"\n                                            :class-name="head2.class"\n                                            :key="head2.name"\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head2) "\n                                              :fixed="head2.fixed"\n                                             :label="head2.label"\n                                             :prop="head2.name.toString()"\n                                             :sortable="parStore.is_sort(head2)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head2.width">\n                                        <template  slot-scope="scope">\n                                            <component :is="head2.editor"\n                                                        :key="head2.name"\n                                                       @on-custom-comp="on_td_event($event)"\n                                                       :row-data="scope.row" :field="head2.name" :index="scope.$index">\n                                            </component>\n\n                                        </template>\n\n                                    </el-table-column>\n                             </el-table-column>\n                            <el-table-column v-else-if="! head.sublevel && head.editor"\n                                              :class-name="head.class"\n                                              :key="head.name"\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head) "\n                                              :fixed="head.fixed"\n                                             :label="head.label"\n                                             :prop="head.name.toString()"\n                                             :sortable="parStore.is_sort(head)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head.width">\n                                <template  slot-scope="scope">\n                                    <component :is="head.editor"\n                                               @on-custom-comp="on_td_event($event)"\n                                               :row-data="scope.row" :field="head.name" :index="scope.$index">\n                                    </component>\n\n                                </template>\n\n                            </el-table-column>\n                              <el-table-column v-else-if="! head.sublevel"\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head) "\n                                             :fixed="head.fixed"\n                                             :key="head.name"\n                                             :class-name="head.class"\n                                             :prop="head.name.toString()"\n                                             :label="head.label"\n                                             :sortable="parStore.is_sort(head)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head.width">\n                            </el-table-column>\n\n                        </template>\n                    </el-table>\n                    </div>',methods:{getSum:function(e){var t=this,n=[];return this.parStore.selectable&&n.push(this.parStore.footer._label||""),ex.each(this.normed_heads,(function(e){if(e.children){var a=t.name_in_list(e.children);ex.each(a,(function(e){null!=t.parStore.footer[e.name]?n.push(t.parStore.footer[e.name]):n.push("")}))}else e.sublevel||(null!=t.parStore.footer[e.name]?n.push(t.parStore.footer[e.name]):n.push(""))})),n},on_header_dragend:function(e,t,n,a){if(this.parStore.$emit("header-dragend",{newWidth:e,oldWidth:t,column:n,event:a}),this.parStore.advise_heads&&this.parStore.advise_heads.length>0){var o="_table_settings_"+this.parStore.director_name,i=localStorage.getItem(o),s=JSON.parse(i);s.advise_width=s.advise_width||{},s.advise_width[n.property]=e,localStorage.setItem(o,JSON.stringify(s))}},on_data_updated:function(){var e=this;Vue.nextTick((function(){e.parStore.e_table.doLayout()}))},on_sort_change:function(e){this._sort_has_changed?this.parStore.sortChange(e):e.order==this.default_sort.order&&e.prop==this.default_sort.prop||(this._sort_has_changed=!0,this.parStore.sortChange(e))},name_in_list:function(e){return ex.filter(this.normed_heads,(function(t){return ex.isin(t.name,e)}))},tableRowClassName:function(e){var t=e.row,n=(e.rowIndex,[]);return t._css_class&&clss_list.push(t._css_class),ex.isin(t,this.selected)&&n.push("row-select"),n.join(" ")},bus_search:function(e){ex.assign(this.search_args,e),this.search()},on_td_event:function(e){var t=e.fun||e.name;if(e.head&&e.head.arg_filter){var n=(0,a[e.head.arg_filter])(e.row,e.head);this.parStore[t](n)}else this.parStore[t](e)}}};Vue.component("com-table-grid",n);var a={field:function(e,t){return e[t.field]}}},function(e,t,n){n(173),n(175);var a={props:["ctx"],created:function(){},data:function(){var e=ex.vueParStore(this),t={};if(ex.each(e.heads,(function(e){t[e.name]=e})),e.advise_heads&&e.advise_heads.length>0){var n="_table_settings_"+e.director_name,a=localStorage.getItem(n);if(a){(o=JSON.parse(a)).advise_width=o.advise_width||{},o.advise_order=o.advise_order||[],ex.each(e.heads,(function(e){o.advise_width[e.name]&&(e.width=o.advise_width[e.name])}))}else{var o={advise_heads:e.advise_heads,advise_width:{},advise_order:[]};localStorage.setItem(n,JSON.stringify(o))}e.advise_heads=o.advise_heads,e.advise_width=o.advise_width||{},e.advise_order=o.advise_order||[]}else e.advise_heads=[],e.advise_width={},e.advise_order=[];return e.advise_order.length>0&&(e.heads=ex.sort_by_names(e.heads,e.advise_order,!0)),{parStore:e,heads:e.heads,keyed_heads:t,search_args:e.search_args,row_sort:e.row_sort}},mounted:function(){var e=this;this.parStore.e_table=this.$refs.e_table,this.parStore.$on("data-updated-backend",this.on_data_updated),ex.each(this.parStore.heads,(function(e){e.style&&ex.append_css(e.style)})),ex.each(this.parStore.selected,(function(t){e.parStore.e_table.toggleRowSelection(t)}))},computed:{default_sort:function(){var e=this.parStore.row_sort.sort_str;if(!e)return{};var t=e.split(",");if((e=t[0]).startsWith("-"))var n=e.slice(1),a="descending";else n=e,a="ascending";return{prop:n,order:a}},normed_heads:function(){var e=this,t=[];if(this.parStore.advise_heads.length>0)var n=ex.filter(this.parStore.heads,(function(t){return ex.isin(t.name,e.parStore.advise_heads)}));else n=this.parStore.heads;return ex.each(n,(function(n){n.show&&!ex.eval(n.show,{ps:e.parStore,vc:e,head:n})||t.push(n)})),t},rows:function(){return this.parStore.rows},selected:function(){return this.parStore.selected}},watch:{selected:function(e,t){var n=this;0==e.length&&0!=t.length?this.$refs.e_table.clearSelection():(ex.each(t,(function(t){-1==e.indexOf(t)&&n.$refs.e_table.toggleRowSelection(t,!1)})),ex.each(e,(function(e){-1==t.indexOf(e)&&n.$refs.e_table.toggleRowSelection(e,!0)})))}},mixins:[mix_table_data,mix_ele_table_adapter],template:'<div class="com-table-rows com-table-grid" style="position: absolute;top:0;left:0;bottom: 0;right:0;">\n        <el-table class="table flat-head" ref="e_table"\n                              :data="rows"\n                               border\n                              show-summary\n                              :row-class-name="tableRowClassName"\n                              :span-method="parStore.arraySpanMethod"\n                              :fit="false"\n                              :stripe="true"\n                              :default-sort=\'default_sort\'\n                              size="mini"\n                              height="100%"\n                              style="width: 100%"\n                              @header-dragend="on_header_dragend"\n                              @sort-change="on_sort_change($event)"\n                              @selection-change="parStore.handleSelectionChange"\n                              :summary-method="getSum">\n\n                        <el-table-column v-if="parStore.selectable"\n                                type="selection"\n                                width="50">\n                        </el-table-column>\n                        <template v-for="(head,index) in normed_heads">\n                             <el-table-column v-if="head.children"\n                                :label="head.label"\n                                :key="head.name"\n                                 :class-name="head.class">\n                                   <el-table-column v-for="head2 in name_in_list(head.children)"\n                                            :class-name="head2.class"\n                                            :key="head2.name"\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head2) "\n                                              :fixed="head2.fixed"\n                                             :label="head2.label"\n                                             :prop="head2.name.toString()"\n                                             :sortable="parStore.is_sort(head2)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head2.width">\n                                        <template  slot-scope="scope">\n                                            <component :is="head2.editor"\n                                                        :key="head2.name"\n                                                       @on-custom-comp="on_td_event($event)"\n                                                       :row-data="scope.row" :field="head2.name" :index="scope.$index">\n                                            </component>\n\n                                        </template>\n\n                                    </el-table-column>\n                             </el-table-column>\n                            <el-table-column v-else-if="! head.sublevel && head.editor"\n                                              :class-name="head.class"\n                                              :key="head.name"\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head) "\n                                              :fixed="head.fixed"\n                                             :label="head.label"\n                                             :prop="head.name.toString()"\n                                             :sortable="parStore.is_sort(head)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head.width">\n                                <template  slot-scope="scope">\n                                    <component :is="head.editor"\n                                               @on-custom-comp="on_td_event($event)"\n                                               :row-data="scope.row" :field="head.name" :index="scope.$index">\n                                    </component>\n\n                                </template>\n\n                            </el-table-column>\n                              <el-table-column v-else-if="! head.sublevel"\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head) "\n                                             :fixed="head.fixed"\n                                             :key="head.name"\n                                             :class-name="head.class"\n                                             :prop="head.name.toString()"\n                                             :label="head.label"\n                                             :sortable="parStore.is_sort(head)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head.width">\n                            </el-table-column>\n\n                        </template>\n                    </el-table>\n                    </div>',methods:{getSum:function(e){var t=this,n=[];return this.parStore.selectable&&n.push(this.parStore.footer._label||""),ex.each(this.normed_heads,(function(e){if(e.children){var a=t.name_in_list(e.children);ex.each(a,(function(e){null!=t.parStore.footer[e.name]?n.push(t.parStore.footer[e.name]):n.push("")}))}else e.sublevel||(null!=t.parStore.footer[e.name]?n.push(t.parStore.footer[e.name]):n.push(""))})),n},on_header_dragend:function(e,t,n,a){if(this.parStore.$emit("header-dragend",{newWidth:e,oldWidth:t,column:n,event:a}),this.parStore.advise_heads&&this.parStore.advise_heads.length>0){var o="_table_settings_"+this.parStore.director_name,i=localStorage.getItem(o),s=JSON.parse(i);s.advise_width=s.advise_width||{},s.advise_width[n.property]=e,localStorage.setItem(o,JSON.stringify(s))}},on_data_updated:function(){var e=this;Vue.nextTick((function(){e.parStore.e_table.doLayout()}))},on_sort_change:function(e){this._sort_has_changed?this.parStore.sortChange(e):e.order==this.default_sort.order&&e.prop==this.default_sort.prop||(this._sort_has_changed=!0,this.parStore.sortChange(e))},name_in_list:function(e){return ex.filter(this.normed_heads,(function(t){return ex.isin(t.name,e)}))},tableRowClassName:function(e){var t=e.row,n=(e.rowIndex,[]);return t._css_class&&clss_list.push(t._css_class),ex.isin(t,this.selected)&&n.push("row-select"),n.join(" ")},bus_search:function(e){ex.assign(this.search_args,e),this.search()},on_td_event:function(e){var t=e.fun||e.name;if(e.head&&e.head.arg_filter){var n=(0,o[e.head.arg_filter])(e.row,e.head);this.parStore[t](n)}else this.parStore[t](e)}}};Vue.component("com-table-rows",a);var o={field:function(e,t){return e[t.field]}};Vue.component("com-element-table-colomu",{props:["head"],data:function(){return{parStore:ex.vueParStore(this)}},template:'<template >\n\n                            <el-table-column v-if="head.editor"\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head) "\n                                              :fixed="head.fixed"\n                                             :label="head.label"\n                                             :prop="head.name.toString()"\n                                             :sortable="parStore.is_sort(head)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head.width">\n                                <template slot-scope="scope">\n                                    <component :is="head.editor"\n                                               @on-custom-comp="on_td_event($event)"\n                                               :row-data="scope.row" :field="head.name" :index="scope.$index">\n                                    </component>\n\n                                </template>\n\n                            </el-table-column>\n\n                            <el-table-column v-else\n                                             :show-overflow-tooltip="parStore.is_show_tooltip(head) "\n                                             :fixed="head.fixed"\n                                             :prop="head.name.toString()"\n                                             :label="head.label"\n                                             :sortable="parStore.is_sort(head)"\n                                             :sort-orders="[\'ascending\', \'descending\']"\n                                             :width="head.width">\n                            </el-table-column>\n\n         </template>\n    '})},function(e,t,n){var a=n(174);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,'@charset "UTF-8";\n.el-table .success {\n  background: #f0f9eb; }\n\n.el-table .row-select {\n  background-color: #ffe5d2; }\n  .el-table .row-select td:hover {\n    background: #ffe9eb; }\n\n.el-table--striped .el-table__body tr.el-table__row--striped.row-select td {\n  background: #ffe5d2; }\n\n.el-table--enable-row-hover .el-table__body tr.row-select:hover > td {\n  background: #ffe9eb; }\n\n.el-table__fixed {\n  /*由于element.table的bug造成固定列覆盖层 覆盖了滚动条，造成无法滚动。所以去掉覆盖层的事件获取能力，再加上内部元素的事件获取能力*/\n  pointer-events: none; }\n  .el-table__fixed * {\n    pointer-events: auto; }\n',""])},function(e,t,n){var a=n(176);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,"",""])},function(e,t){var n={template:'<div class="oprations" style="padding: 5px;">\n                <component v-for="(op,index) in ops"\n                           :is="op.editor"\n                           :ref="\'op_\'+op.name"\n                           :head="op"\n                           :key="index"\n                           :disabled="is_disable(op)"\n                           v-show="is_show(op)"\n                           @operation="on_operation(op)"></component>\n            </div>',data:function(){return this.parStore=ex.vueParStore(this),{ops:this.parStore.ops}},methods:{is_disable:function(e){return null!=e.disabled&&ex.eval(e.disabled,{ps:this.parStore})},is_show:function(e){return a+=1,console.log(a),console.log(e.label),null==e.show||ex.eval(e.show,{ps:this.parStore})},eval:function(e){return null!=e&&ex.eval(e,this.parStore)},on_operation:function(e){var t=e.fun||e.name;this.parStore[t](e)}}},a=0;Vue.component("com-table-operations",n)},function(e,t){var n={data:function(){return this.parStore=ex.vueParStore(this),{row_filters:this.parStore.row_filters,search_args:this.parStore.search_args}},template:' <com-filter class="flex" :heads="normed_heads" :search_args="search_args"\n                        @submit="search()"></com-filter>',computed:{normed_heads:function(){var e=this,t=[];return ex.each(this.row_filters,(function(n){n.show&&!ex.eval(n.show,{ps:e.parStore,head:n})||t.push(n)})),t}},methods:{search:function(){this.parStore.search()}}};Vue.component("com-table-filters",n)},function(e,t){var n={data:function(){var e=ex.vueParStore(this);return this.parStore=e.table?e.table:e,{row_pages:this.parStore.row_pages,search_args:this.parStore.search_args}},methods:{on_page_change:function(e){this.search_args._page=e,this.parStore.getRows()},on_perpage_change:function(e){this.search_args._perpage=e,this.parStore.search()}},template:' <el-pagination\n                         @size-change="on_perpage_change"\n                        @current-change="on_page_change"\n                        :current-page="row_pages.crt_page"\n                        :page-sizes="[20, 50, 100]"\n                        :page-size="row_pages.perpage"\n                        layout="total, sizes, prev, pager, next, jumper"\n                        :total="row_pages.total">\n                </el-pagination>'};Vue.component("com-table-pagination",n)},function(e,t){var n={data:function(){return{parStore:ex.vueParStore(this)}},template:'<div class="com-table-parents">\n          <ol v-if="parStore.parents.length>0" class="breadcrumb jb-table-parent">\n            <li v-for="par in parStore.parents"><a href="#" @click="on_click(par)"  v-text="par.label"></a></li>\n        </ol>\n    </div>',methods:{on_click:function(e){this.parStore.option.parent_click?ex.eval(this.parStore.option.parent_click,{ps:this.parStore,parent:e}):(this.parStore.$emit("parent_changed",e),this.parStore.get_childs(e.value))}}};Vue.component("com-table-parents",n)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={data:function(){return{parents:[],heads:[],rows:[],row_filters:{},row_sort:{},row_pages:{},director_name:"",footer:{},selected:[],search_args:{},ops:[],crt_row:{},selectable:!0,changed_rows:[],event_slots:[],option:{},table_layout:{},after_get_rows:null}},mixins:[mix_ele_table_adapter],created:function(){var e=this;ex.each(this.event_slots,(function(t){e.$on(t.event,(function(n){ex.eval(t.express,{event:n,ps:e})}))})),this.head&&this.head.init_express&&ex.eval(this.head.init_express,{par_row:this.par_row,ps:this,vc:this.vc})},computed:{changed:function(){return 0!=this.changed_rows.length},has_select:function(){return 0!=this.selected.length}},methods:{row_has_field:function(e){return 0!=this.rows.length&&null!=this.rows[0][e]},express:function(e){var t=this,n=e.row_match;if(!n||o[n](t,e))if(e.confirm_msg)layer.confirm(e.confirm_msg,{icon:3,title:"提示"},(function(n){layer.close(n),ex.eval(e.express,t)}));else{var a=ex.copy(e);e.update_kws&&ex.assign(a,ex.eval(a,{ps:t,kws:e})),ex.eval(a.express,{ps:t,kws:a})}},search:function(){return this.search_args._page=1,this.getRows()},getRows:function(){var e=this;cfg.show_load();var t={director_name:e.director_name,search_args:e.search_args};return new Promise((function(n,a){ex.director_call("d.get_rows",t,(function(t){cfg.hide_load(),e.selected=[],e.rows=t.rows,ex.vueAssign(e.row_pages,t.row_pages),ex.vueAssign(e.search_args,t.search_args),e.footer=t.footer,e.parents=t.parents,e.table_layout=t.table_layout,e.after_get_rows&&ex.eval(e.after_get_rows,{ps:e,resp:t}),e.$emit("data-updated-backend"),n(t)}))}))},add_new:function(e){var t=e,n=this,a=e.fields_ctx,o={fun:"get_row",director_name:a.director_name};if(e.pre_set){var i=ex.eval(e.pre_set,{vc:n.vc,ps:n,search_args:n.search_args});ex.assign(o,i)}else e.init_fields&&ex.assign(o,e.init_fields);var s=[o];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(s),(function(o){cfg.hide_load();var i=o.get_row;if(n.search_args._par&&(i.meta_par=n.search_args._par),t.preset&&ex.vueAssign(i,ex.eval(t.preset,{ps:n})),n.crt_row=i,e.tab_name){var s=ex.copy(e);s.par_row=i,n.switch_to_tab(s)}else a.row=i,cfg.pop_vue_com("com-form-one",a).then((function(e){n.update_or_insert(e)})).catch((function(){console.log("break form one")}))}))},pop_edit:function(e){var t=e.row,n=e.fields_ctx,a=e.after_save,o=this,i=pop_fields_layer(t,n,(function(e){a?ex.eval(a,{new_row:e,ps:o}):o.update_or_insert(e),layer.close(i)}))},clearSelection:function(){this.selected=[]},get_childs:function(e){this.search_args._par=e,this.search()},update_or_insert:function(e,t){var n=ex.findone(this.rows,{pk:e.pk});n?ex.vueAssign(n,e):(this.rows=[e].concat(this.rows),this.row_pages.total+=1),this.$emit("row.update_or_insert",[e])},update_rows:function(e){var t=this;ex.each(e,(function(e){var n=ex.findone(t.rows,{pk:e.pk});ex.vueAssign(n,e)})),t.$emit("row.update_or_insert",[e])},check_selected:function(e){var t=e.row_match||"many_row";return o[t](this,e)},selected_set_and_save:function(e,t){var n=this,a=e.row_match||"many_row";function i(t){var a=t.new_row,o=t.field_store,i=t.pop_fields_win_index,s=ex.copy(n.selected);ex.each(s,(function(t){ex.assign(t,a),e.fields_ctx&&e.fields_ctx.director_name&&(t._cache_director_name=t._director_name,t._director_name=e.fields_ctx.director_name)})),cfg.show_load(),ex.director_call("d.save_rows",{rows:s}).then((function(t){if(cfg.hide_load(),t._outdate)layer.confirm(t._outdate,{icon:3,title:"提示",btn:["刷新数据","仍然保存","取消"],btn3:function(e,t){layer.close(e)}},(function(e,t){layer.close(e),n.search()}),(function(t){layer.close(t),ex.each(n.selected,(function(e){e.meta_overlap_fields="__all__"})),n.selected_set_and_save(e,!0)}));else if(t.errors)e.after_error?ex.eval(e.after_error,{fs:o,errors:t.errors}):cfg.showError(JSON.stringify(t.errors));else{if(cfg.toast("操作成功！",{time:1e3}),e.after_save&&"stop"==ex.eval(e.after_save,{rows:t,ps:n}))return;ex.each(t,(function(e){e._cache_director_name&&(e._director_name=e._cache_director_name),n.update_or_insert(e)})),n.clearSelection(),i&&layer.close(i)}}))}o[a](n,e)&&new Promise((function(n,a){e.confirm_msg&&!t?layer.confirm(e.confirm_msg,{icon:3,title:"提示"},(function(e){layer.close(e),n()})):n()})).then((function(){var t={};if(e.field)t[e.field]=e.value,t.meta_overlap_fields=e.field;else if(e.pre_set){var a=ex.eval(e.pre_set);ex.assign(t,a),t.meta_overlap_fields=Object.keys(a).join(",")}if(e.fields_ctx){ex.map(e.fields_ctx.heads,(function(e){e.name.startsWith("_")||null!=t[e.name]||(t[e.name]=n.selected[0][e.name])}));var o=pop_edit_local(t,e.fields_ctx,(function(e,t){i({new_row:e,field_store:t,pop_fields_win_index:o})}))}else i({new_row:t})}))},save_rows:function(e,t){var n=this,a=new ex.DefPromise((function(o,i){ex.director_call("d.save_rows",{rows:e}).then((function(i){if(cfg.hide_load(),i._outdate)layer.confirm(i._outdate,{icon:3,title:"提示",btn:["刷新数据","仍然保存","取消"],btn3:function(e,t){layer.close(e)}},(function(e,t){layer.close(e),n.search()}),(function(t){layer.close(t),ex.each(e,(function(e){e.meta_overlap_fields="__all__"})),n.save_rows(e)}));else if(i.errors)t.after_error?ex.eval(t.after_error,{errors:i.errors}):cfg.showError(JSON.stringify(i.errors));else if(a.has_then)o(i);else{if(t.after_save)return ex.eval(t.after_save,{ps:n,resp:i});cfg.toast("操作成功！",{time:1e3}),ex.each(i,(function(e){n.update_or_insert(e)}))}}))}));return a},export_excel:function(e){var t=ex.copy(this.search_args);t._perpage=e.count||5e3;var n=[{fun:"get_excel",director_name:this.director_name,search_args:t}];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(n),(function(e){cfg.hide_load();var t=e.get_excel.file_url;ex.download(t)}))},director_call:function(e){var t=this,n=e.row_match;if(n)if(o[n]){if(!o[n](t,e))return}else if(!ex.eval(n,{ps:t}))return void(e.match_msg&&ex.eval(e.match_msg,{ps:t}));function a(n,a){cfg.show_load(),ex.director_call(e.director_name,{rows:t.selected,new_row:n},(function(n){n&&n.msg?(cfg.hide_load(),cfg.toast(n.msg,{time:1500})):cfg.hide_load(2e3),e.after_save?ex.eval(e.after_save,{resp:n,ps:t,rows:t.selected}):n&&(n.rows&&t.update_rows(n.rows),n.row&&t.update_or_insert(n.row)),t.clearSelection(),a&&a(n)}))}function i(){var n={};if(ex.assign(n,ex.eval(e.pre_set,{head:e,ps:t.parStore,self:t})),e.fields_ctx){ex.map(e.fields_ctx.heads,(function(e){e.name.startsWith("_")||null!=n[e.name]||(n[e.name]=t.selected[0][e.name])}));var o=pop_edit_local(n,e.fields_ctx,(function(e,t){a(e,(function(e){layer.close(o)}))}))}else a(n)}e.confirm_msg?layer.confirm(e.confirm_msg,{icon:3,title:"提示"},(function(e){layer.close(e),i()})):i()},arraySpanMethod:function(e){var t=e.row,a=e.column,o=e.rowIndex,i=e.columnIndex;return this.table_layout?"object"==n(this.table_layout)?this.table_layout["".concat(o,",").concat(i)]||[1,1]:ex.eval(this.table_layout,{row:t,column:a,rowIndex:o,columnIndex:i}):[1,1]},delete_selected:function(){var e=this;layer.confirm("真的删除吗?",{icon:3,title:"确认"},(function(t){layer.close(t),cfg.show_load();var n=[{fun:"del_rows",rows:e.selected}];ex.post("/d/ajax",JSON.stringify(n),(function(t){cfg.hide_load(),e.search()}))}))},pop_panel:function(e){var t=this,n=e.row_match||"many_row";if(o[n](t,e)){if(e.panel)var a=e.panel;else a=ex.eval(e.panel_express,{ps:t,kws:e});var i=ex.copy(e);if(e.ctx_express){var s=ex.eval(e.ctx_express,{ps:t,kws:e});ex.assign(i,s)}var r=cfg.pop_middle(a,i,(function(e){i.after_express?ex.eval(i.after_express,{ps:t,resp:e}):t.update_or_insert(e),t.clearSelection(),r()}))}},switch_to_tab:function(e){var t=named_ctx[e.ctx_name];if(!t)throw"named_ctx. ".concat(e.ctx_name," 不存在，检查是否传入");var n=ex.findone(t,{name:e.tab_name});e.tab_name&&n||(e.tab_name=t[0].name),window.root_live?root_live.open_live(live_el_tab,{tabs:t,title:e.par_row._label,crt_tab_name:e.tab_name,par_row:e.par_row,last_ps:this}):this.tab_stack.push({widget:"com-widget-el-tab",tabs:t,crt_tab_name:e.tab_name,par_row:e.par_row}),this.crt_row=e.par_row}}},o={one_row:function(e,t){return 0==e.selected.length?(cfg.showMsg("请选择一条数据！"),!1):e.selected.length>1?(cfg.showMsg("只能选择一条数据！"),!1):!(t.match_express&&!ex.eval(t.match_express,{row:e.selected[0]}))||(cfg.showError(t.match_msg),!1)},many_row:function(e,t){if(0==e.selected.length)return cfg.showMsg("请至少选择一条数据！"),!1;if(t.match_express)for(var n=0;n<e.selected.length;n++){var a=e.selected[n];if(!ex.eval(t.match_express,{row:a}))return cfg.showError(t.match_msg),!1}return!0},one_row_match:function(e,t){if(1!=e.selected.length)return cfg.showMsg("请选择一行数据！"),!1;var n=t.match_field,a=t.match_values,o=t.match_msg,i=e.selected[0];return!!ex.isin(i[n],a)||(cfg.showMsg(o),!1)},many_row_match:function(e,t){if(0==e.selected.length)return cfg.showMsg("请至少选择一行数据！"),!1;if(t.match_field){for(var n=t.match_field,a=t.match_values,o=t.match_msg,i=0;i<e.selected.length;i++){var s=e.selected[i];if(!ex.isin(s[n],a))return cfg.showMsg(o),!1}return!0}for(i=0;i<e.selected.length;i++){s=e.selected[i];if(!ex.eval(t.match_express))return cfg.showMsg(t.match_msg),!1}return!0}};window.table_store=a},function(e,t){var n={data:function(){return{tab_stack:[],tabs:[],childStore_event_slot:childStore_event_slot}},created:function(){var e=this;ex.each(this.childStore_event_slot,(function(t){e.$on(t.event,(function(n){var a=ex.eval(t.kws,n);e[t.fun](a)}))}))},methods:{hello:function(e){alert(e)},update_ctx:function(e){var t=e.post_data||{};ex.director_call(e.director_name,t,(function(t){named_ctx[e.ctx_name]=t}))},pop_tab_stack:function(){0!=this.tab_stack.length&&this.tab_stack.pop();var e=this;Vue.nextTick((function(){e.e_table.doLayout()}))}}};window.table_page_store=n},function(e,t){var n={props:["tab_head","par_row"],data:function(){var e=this,t=this.tab_head.table_ctx,n={data:function(){return{head:t,heads:t.heads,row_filters:t.row_filters,row_sort:t.row_sort,director_name:t.director_name,footer:t.footer||[],ops:t.ops||[],rows:[],row_pages:{},selectable:null==t.selectable||t.selectable,advise_heads:t.advise_heads||[],selected:[],del_info:[],search_args:{},vc:e,parStore:ex.vueParStore(e)}},mixins:[table_store],watch:{search_args:function(e){console.log(e)}},methods:{switch_to_tab:function(e){window.root_live?table_store.methods.switch_to_tab(e):this.parStore.switch_to_tab(e)},getRows:function(){if(e.tab_head.pre_set){var t=ex.eval(e.tab_head.pre_set,{par_row:e.par_row,vc:e,ps:this});ex.assign(this.search_args,t)}else e.tab_head.tab_field?this.search_args[e.tab_head.tab_field]=e.par_row[e.tab_head.par_field]:e.tab_head.par_field&&(this.search_args[e.tab_head.par_field]=e.par_row[e.tab_head.par_field]);table_store.methods.getRows.call(this)}}};return{childStore:new Vue(n),parStore:ex.vueParStore(e),loaded:!1}},mounted:function(){ex.vueEventRout(this,this.tab_head.event_slots),this.childStore.head.init_express||this.childStore.search()},methods:{on_show:function(){}},template:'<div class="com-tab-table flex-v" style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;padding-bottom: 1em;">\n       <div v-if="childStore.row_filters.length > 0" style="background-color: #fbfbf8;padding: 8px 1em;border-radius: 4px;margin-top: 8px">\n            <com-table-filters></com-table-filters>\n        </div>\n        <div  v-if="childStore.ops.length>0 ">\n            <com-table-operations></com-table-operations>\n        </div>\n\n        <div v-if="childStore.parents.length>0">\n            <com-table-parents></com-table-parents>\n        </div>\n\n        \x3c!--<ol v-if="parents.length>0" class="breadcrumb jb-table-parent">--\x3e\n            \x3c!--<li v-for="par in parents"><a href="#" @click="get_childs(par)"  v-text="par.label"></a></li>--\x3e\n        \x3c!--</ol>--\x3e\n\n        <div class="box box-success flex-v flex-grow" style="margin-bottom: 0">\n            <div class="table-wraper flex-grow" style="position: relative;">\n                <com-table-rows></com-table-rows>\n               </div>\n        </div>\n        <div style="background-color: white;">\n            <com-table-pagination></com-table-pagination>\n        </div>\n    </div>'};Vue.component("com-tab-table",n)},function(e,t,n){n(185);var a={props:["tab_head","par_row"],data:function(){var e=this.tab_head.row||{},t=new Vue({data:{vc:this}}),n=ex.vueParStore(this);return{head:this.tab_head,heads:this.tab_head.heads||this.tab_head.fields_ctx.heads,ops:this.tab_head.ops||this.tab_head.fields_ctx.ops,errors:{},row:e,org_row:e,childStore:t,parStore:n}},mixins:[mix_fields_data,mix_nice_validator],template:'<div class="com-tab-fields flex-v"  style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;">\n\n   <div class="oprations" >\n        <component v-for="op in ops" :is="op.editor" :ref="\'op_\'+op.name" :head="op" @operation="on_operation(op)"></component>\n    </div>\n    <div style="overflow: auto;" class="flex-grow fields-area">\n        <div v-if="heads[0].name !=\'_meta_head\'" class=\'field-panel suit\' id="form" >\n            <field  v-for=\'head in normed_heads\' :key="head.name" :head="head" :row=\'row\'></field>\n        </div>\n        <template v-else>\n               <div v-if="heads[0].fields_group" :class="heads[0].class">\n                    <div v-for="group in heads[0].fields_group" :class="\'group_\'+group.name">\n                        <div class="fields-group-title" v-html="group.label"></div>\n                        <com-fields-table-block v-if="heads[0].table_grid"\n                            :heads="group_filter_heads(group)" :meta-head="heads[0]" :row="row">\n                            </com-fields-table-block>\n                         <div v-else class=\'field-panel suit\' id="form" >\n                            <field  v-for=\'head in group_filter_heads(group)\' :key="head.name" :head="head" :row=\'row\'></field>\n                       </div>\n                    </div>\n                </div>\n                <div v-else :class="heads[0].class">\n                    <com-fields-table-block v-if="heads[0].table_grid"\n                        :heads="normed_heads.slice(1)" :row="row" :metaHead="heads[0]"></com-fields-table-block>\n                </div>\n        </template>\n\n\n    </div>\n    </div>',mounted:function(){this.heads[0]&&"_meta_head"==this.heads[0].name&&this.heads[0].style&&ex.append_css(this.heads[0].style),this.tab_head.row||this.get_data(),ex.vueEventRout(this,this.tab_head.event_slots)},methods:{back:function(){this.parStore.pop_tab_stack()},group_filter_heads:function(e){return ex.filter(this.normed_heads,(function(t){return ex.isin(t.name,e.head_names)}))},data_getter:function(){var e=this;if(e.tab_head.get_data){var t=o[e.tab_head.get_data.fun],n=e.tab_head.get_data.kws;t(e,(function(t){e.org_row=t,e.row=ex.copy(t),e.childStore.$emit("row.update_or_insert",t)}),n)}},after_save:function(e){this.tab_head.after_save?"string"==typeof this.tab_head.after_save?ex.eval(this.tab_head.after_save,{vc:this}):(this.tab_head.after_save&&this.parStore&&this.parStore.update_or_insert(e),ex.vueAssign(this.org_row,e)):this.tab_head.after_save_express?ex.eval(this.tab_head.after_save_express,{vc:this}):this.parStore.update_or_insert(e)}}};Vue.component("com-tab-fields",a);var o={get_row:function(e,t,n){var a=n.director_name,o=n.relat_field,i={director_name:a};i[o]=e.par_row[o],cfg.show_load(),ex.director_call("d.get_row?dname="+a,i).then((function(e){cfg.hide_load(),t(e)}))},table_row:function(e,t,n){t(e.par_row)}}},function(e,t,n){var a=n(186);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-tab-fields .oprations {\n  background: #fbfbf8;\n  padding: 0.2rem 1rem;\n  margin: 0.2rem 0;\n  border-bottom: 1px solid #cccccc; }\n\n.com-tab-fields .table-fields {\n  border: 1px solid #efefef;\n  background-color: #f8f8f8;\n  margin: 5px 15px;\n  padding: 10px 30px; }\n\n.fields-group-title {\n  padding: .3rem 0 .3rem 2rem;\n  font-weight: 700; }\n",""])},function(e,t){var n={props:["tab_head","par_row"],data:function(){var e=this.tab_head.fields_ctx;return ex.assign(e,{par_row:this.par_row,init_express:this.tab_head.init_express}),{ctx:e}},template:'<div class="com-tab-fields-v1 com-tab-fields" style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;">\n    <com-form-one :ctx="ctx"></com-form-one>\n    </div>',mounted:function(){}};Vue.component("com-tab-fields-v1",n)},function(e,t){var n={props:["tab_head","par_row"],mounted:function(){this.tab_head.lazy_init&&ex.eval(this.tab_head.lazy_init,{head:this.tab_head})},template:'<div class="com-tab-lazy-wrap">\n    </div>'};Vue.component("com-tab-lazy-wrap",n)},function(e,t){var n={props:["tab_head","par_row"],data:function(){var e=this,t=this.tab_head.table_ctx,n={data:function(){return{head:t,heads:t.heads,row_filters:t.row_filters,row_sort:t.row_sort,director_name:t.director_name,footer:t.footer||[],ops:t.ops||[],rows:[],row_pages:{},selectable:null==t.selectable||t.selectable,advise_heads:t.advise_heads||[],selected:[],del_info:[],search_args:{},vc:e,parStore:ex.vueParStore(e)}},mixins:[table_store],methods:{switch_to_tab:function(e){window.root_live?table_store.methods.switch_to_tab(e):this.parStore.switch_to_tab(e)},getRows:function(){if(e.tab_head.pre_set){var t=ex.eval(e.tab_head.pre_set,{par_row:e.par_row,vc:e,ps:this});ex.assign(this.search_args,t)}table_store.methods.getRows.call(this)}}};return{childStore:new Vue(n),parStore:ex.vueParStore(e),loaded:!1}},mounted:function(){ex.vueEventRout(this,this.tab_head.event_slots),this.childStore.head.init_express||this.childStore.search()},methods:{},template:'<div class="com-tab-table flex-v" style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;padding-bottom: 1em;">\n       <div v-if="childStore.row_filters.length > 0" style="background-color: #fbfbf8;padding: 8px 1em;border-radius: 4px;margin-top: 8px">\n            <com-table-filters></com-table-filters>\n        </div>\n        <div  v-if="childStore.ops.length>0 ">\n            <com-table-operations></com-table-operations>\n        </div>\n\n        <div v-if="childStore.parents.length>0">\n            <com-table-parents></com-table-parents>\n        </div>\n\n        <div class="box box-success flex-v flex-grow" style="margin-bottom: 0">\n            <div class="table-wraper flex-grow" style="position: relative;">\n                \x3c!--<com-table-rows></com-table-rows>--\x3e\n                 <component :is="tab_head.inn_editor"></component>\n            </div>\n        </div>\n        <div style="background-color: white;">\n            <com-table-pagination></com-table-pagination>\n        </div>\n    </div>'};Vue.component("com-tab-table-type",n)},function(e,t,n){n(191);var a={props:["tab_head","par_row"],data:function(){var e=this,t=this.tab_head.table_ctx,n={data:function(){return{head:t,heads:t.heads,row_filters:t.row_filters,row_sort:t.row_sort,director_name:t.director_name,footer:t.footer||[],ops:t.ops||[],rows:[],row_pages:{},selectable:null==t.selectable||t.selectable,advise_heads:t.advise_heads||[],selected:[],del_info:[],search_args:{},vc:e,parStore:ex.vueParStore(e),after_get_rows:t.after_get_rows,option:t.option||{}}},mixins:[table_store],methods:{switch_to_tab:function(e){window.root_live?table_store.methods.switch_to_tab(e):this.parStore.switch_to_tab(e)},getRows:function(){if(e.tab_head.pre_set){var t=ex.eval(e.tab_head.pre_set,{par_row:e.par_row,vc:e,ps:this});ex.assign(this.search_args,t)}table_store.methods.getRows.call(this)}}};return{childStore:new Vue(n),parStore:ex.vueParStore(e),loaded:!1}},mounted:function(){ex.vueEventRout(this,this.tab_head.event_slots),this.childStore.head.init_express||this.childStore.search(),this.tab_head.css&&ex.append_css(this.tab_head.css)},methods:{},template:'<div class="com-tab-table com-tab-chart flex-v" style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;padding-bottom: 1em;">\n       <div v-if="childStore.row_filters.length > 0" style="background-color: #fbfbf8;padding: 8px 1em;border-radius: 4px;margin-top: 8px">\n            <com-table-filters></com-table-filters>\n        </div>\n        <div  v-if="childStore.ops.length>0 ">\n            <com-table-operations></com-table-operations>\n        </div>\n\n        <div v-if="childStore.parents.length>0">\n            <com-table-parents></com-table-parents>\n        </div>\n\n        <div class="box box-success flex-v flex-grow" style="margin-bottom: 0">\n            <div class="table-wraper flex-grow" style="position: relative;">\n                \x3c!--<com-table-rows></com-table-rows>--\x3e\n                <div style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow-y: auto">\n                       <div class="statistic-panel" v-if="tab_head.foot_heads">\n                    <label class="title-label" v-text="childStore.footer._label"></label>\n                        <div class="foot-item" v-for="head in tab_head.foot_heads">\n                            <span v-text="childStore.footer[head.name]"></span><br>\n                            <span v-text="head.label"></span>\n                        </div>\n                    </div>\n\n                    <div class="chart-panel">\n                        <component :class="tab_head.chart_class"  v-for="head in tab_head.chart_heads" :is="head.editor" :ctx="head"></component>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!--<div style="background-color: white;">--\x3e\n            \x3c!--<com-table-pagination></com-table-pagination>--\x3e\n        \x3c!--</div>--\x3e\n    </div>'};Vue.component("com-tab-chart",(function(e,t){ex.load_js(js_config.js_lib.echarts).then((function(){e(a)}))}))},function(e,t,n){var a=n(192);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-tab-chart .box {\n  background-color: #ecf0f5;\n}\n.com-tab-chart .statistic-panel,\n.com-tab-chart .chart-panel {\n  margin: 20px;\n  padding: 20px;\n  background-color: #fff;\n  position: relative;\n}\n.com-tab-chart .statistic-panel .title-label,\n.com-tab-chart .chart-panel .title-label {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n.com-tab-chart .statistic-panel .foot-item,\n.com-tab-chart .chart-panel .foot-item {\n  display: inline-block;\n  margin: 2rem;\n  width: 20rem;\n  padding-bottom: 1rem;\n  text-align: center;\n  border-bottom: 1px solid #dadada;\n}\n",""])},function(e,t,n){n(194),Vue.component("com-op-switch",{props:["head"],data:function(){return{myvalue:!1,parStore:ex.vueParStore(this)}},template:'<div class="com-op-switch">\n    <span v-text="head.label"></span>\n    <el-switch @click.native="trig_switch()"\n      v-model="myvalue"\n      :active-color="head.active_color || \'#13ce66\'"\n      inactive-color="#888">\n    </el-switch>\n    </div>',mounted:function(){this.head.init_express&&ex.eval(this.head.init_express,{ps:this.parStore,vc:this})},methods:{trig_switch:function(){var e=this;if(this.head.op_confirm_msg){var t=ex.eval(this.head.op_confirm_msg,{value:this.myvalue});layer.confirm(t,{icon:3,title:"提示",closeBtn:0},(function(t){layer.close(t),e.do_switch()}),(function(){e.myvalue=!e.myvalue}))}else e.do_switch()},do_switch:function(){this.head.value=this.myvalue,this.$emit("operation",this.head.name)}}})},function(e,t,n){var a=n(195);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-op-switch {\n  display: inline-block; }\n",""])},function(e,t){var n={props:["head","disabled"],template:'<button class="btn btn-sm btn-default" :class="this.head.class"\n        :style="head.style" :disabled="disabled" @click="operation_call">\n        <i v-if="head.icon" :class=\'["fa",head.icon]\'></i>\n        <span  v-text="head.label"></span>\n    </button>',data:function(){return{enable:!0}},mounted:function(){this.head.css&&ex.append_css(this.head.css)},computed:{norm_class:function(){return this.head.class?"btn btn-sm "+this.head.class:"btn btn-sm btn-default"}},methods:{operation_call:function(){this.$emit("operation",this.head)},set_enable:function(e){this.enable=e}}};Vue.component("com-op-plain-btn",n)},function(e,t,n){n(198),Vue.component("com-op-search",{props:["head"],data:function(){return{myvalue:"",parStore:ex.vueParStore(this)}},template:'<div class="com-op-search">\n         <template v-if="head.btn_text">\n          <input type="text" :placeholder="head.label" v-model="myvalue"> <button  @click="operation_call()" v-text="head.btn_text"></button>\n         </template>\n         <input v-else type="text" :placeholder="head.label" v-model="myvalue" :key="operation_call()">\n    </div>',methods:{operation_call:function(){var e=ex.copy(this.head);e.value=this.myvalue,this.$emit("operation",e)}}})},function(e,t,n){var a=n(199);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-op-search {\n  display: inline-block; }\n",""])},function(e,t){var n={props:["head","search_args","config"],template:'<div class=\'com-filter-check\'>\n        <label style="font-weight: 400" :for="\'filter_\'+head.name" v-text="head.label"></label>\n        <input :id="\'filter_\'+head.name" type="checkbox" v-model="search_args[head.name]">\n    </div>',data:function(){return{order:this.head.order||!1,parStore:ex.vueParStore(this)}},computed:{myvalue:function(){return this.search_args[this.head.name]},options:function(){}},watch:{myvalue:function(e){this.$emit("input",e)},options:function(e){delete this.search_args[this.head.name]}},mounted:function(){this.head.event_slots&&this.set_event_slot()},methods:{}};Vue.component("com-filter-check",n)},function(e,t,n){n(6);var a={props:["head","search_args"],data:function(){return{heads:[{name:"_start_"+this.head.name,placeholder:"开始时间"},{name:"_end_"+this.head.name,placeholder:"结束时间"}]}},template:'<div  class="com-filter-datetime-range flex flex-ac">\n                <span v-text="head.label" style="white-space: nowrap"></span>:\n                    \x3c!--<input class="start form-control input-sm " v-model="start" readonly--\x3e\n                        \x3c!--style="background-color: white;width: 12em"--\x3e\n                        \x3c!--placeholder="开始时间">--\x3e\n                    <com-field-datetime :head="heads[0]" :row="search_args"></com-field-datetime>\n                    <div style="display: inline-block;margin: 0 2px;" >-</div>\n                     <com-field-datetime :head="heads[1]" :row="search_args"></com-field-datetime>\n                    \x3c!--<input class="end form-control input-sm"  v-model="end"  readonly--\x3e\n                     \x3c!--style="background-color: white;width: 12em"--\x3e\n                     \x3c!--placeholder="结束时间">--\x3e\n                </div>',computed:{start:function(){return this.search_args["_start_"+this.head.name]},end:function(){return this.search_args["_end_"+this.head.name]}},watch:{start:function(e,t){e&&this.end&&e>this.end&&(cfg.showError("开始时间必须小于结束时间"),Vue.set(this.search_args,"_start_"+this.head.name,t))},end:function(e,t){e&&this.start&&e<this.start&&(cfg.showError("结束时间必须大于开始时间"),Vue.set(this.search_args,"_end_"+this.head.name,t))}}};Vue.component("com-filter-datetime-range",a)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-filter-datetime-range .el-input__inner {\n  width: 182px;\n}\n",""])},function(e,t,n){n(6);var a={props:["head","search_args"],data:function(){return{heads:[{name:"_start_"+this.head.name,placeholder:"开始日期"},{name:"_end_"+this.head.name,placeholder:"结束日期"}]}},template:'<div  class="com-filter-datetime-range flex flex-ac">\n                <span v-text="head.label" style="white-space: nowrap"></span>:\n                    \x3c!--<input class="start form-control input-sm " v-model="start" readonly--\x3e\n                        \x3c!--style="background-color: white;width: 12em"--\x3e\n                        \x3c!--placeholder="开始时间">--\x3e\n                    <com-field-date :head="heads[0]" :row="search_args"></com-field-date>\n                    <div style="display: inline-block;margin: 0 2px;" >-</div>\n                     <com-field-date :head="heads[1]" :row="search_args"></com-field-date>\n                    \x3c!--<input class="end form-control input-sm"  v-model="end"  readonly--\x3e\n                     \x3c!--style="background-color: white;width: 12em"--\x3e\n                     \x3c!--placeholder="结束时间">--\x3e\n                </div>',computed:{start:function(){return this.search_args["_start_"+this.head.name]},end:function(){return this.search_args["_end_"+this.head.name]}},watch:{start:function(e,t){e&&this.end&&e>this.end&&(cfg.showError("开始日期必须小于结束日期"),Vue.set(this.search_args,"_start_"+this.head.name,t))},end:function(e,t){e&&this.start&&e<this.start&&(cfg.showError("结束日期必须大于开始日期"),Vue.set(this.search_args,"_end_"+this.head.name,t))}}};Vue.component("com-filter-date-range",a)},function(e,t){Vue.component("com-filter-compare",{props:["head","search_args"],data:function(){return this.search_args["_"+this.head.name+"_compare"]=this.search_args["_"+this.head.name+"_compare"]||0,{}},template:'<div  class="com-filter-datetime-range flex flex-ac" :style="{width:head.width}">\n                \x3c!--<span v-text="head.label" style="white-space: nowrap"></span>:--\x3e\n                   <select name="" id="" class="form-control input-sm" style="width: 50px" v-model="search_args[\'_\'+head.name+\'_compare\']">\n                        <option value="0">=</option>\n                         <option value="1">≥</option>\n                         <option value="-1">≤</option>\n                   </select>\n                   <input @keyup.enter="parStore.search()" type="text" v-model=\'search_args[head.name]\' class="form-control input-sm" :placeholder="head.label">\n                </div>'})},function(e,t){var n={props:["ctx"],basename:"live-table",data:function(){var e=this,t={data:function(){return{heads:e.ctx.heads,row_filters:e.ctx.row_filters,row_sort:e.ctx.row_sort,director_name:e.ctx.director_name,footer:e.ctx.footer||[],ops:e.ctx.ops||[],rows:[],row_pages:{},selectable:null==e.ctx.selectable||e.ctx.selectable,selected:[],del_info:[],search_args:e.ctx.search_args||{},vc:e,parStore:ex.vueParStore(e)}},mixins:[table_store],watch:{search_args:function(e){console.log(e)}},methods:{}};return{childStore:new Vue(t),parStore:ex.vueParStore(e)}},mounted:function(){this.ctx.event_slots&&ex.vueEventRout(this,this.ctx.event_slots),this.childStore.search()},template:'<div class="live-table flex-v" style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;padding-bottom: 1em;">\n       <div v-if="childStore.row_filters.length > 0" style="background-color: #fbfbf8;padding: 8px 1em;border-radius: 4px;margin-top: 8px">\n            <com-table-filters></com-table-filters>\n        </div>\n        <div  v-if="childStore.ops.length>0 ">\n            <com-table-operations></com-table-operations>\n        </div>\n\n        <div v-if="childStore.parents.length>0">\n            <com-table-parents></com-table-parents>\n        </div>\n\n        \x3c!--<ol v-if="parents.length>0" class="breadcrumb jb-table-parent">--\x3e\n            \x3c!--<li v-for="par in parents"><a href="#" @click="get_childs(par)"  v-text="par.label"></a></li>--\x3e\n        \x3c!--</ol>--\x3e\n\n        <div class="box box-success flex-v flex-grow" style="margin-bottom: 0">\n            <div class="table-wraper flex-grow" style="position: relative;">\n                <com-table-rows></com-table-rows>\n               </div>\n        </div>\n        <div style="background-color: white;">\n            <com-table-pagination></com-table-pagination>\n        </div>\n    </div>'};window.live_table=n},function(e,t){var n={props:["ctx"],basename:"live-table-type",data:function(){var e=this,t={data:function(){return{head:e.ctx,heads:e.ctx.heads,row_filters:e.ctx.row_filters,row_sort:e.ctx.row_sort,director_name:e.ctx.director_name,footer:e.ctx.footer||[],ops:e.ctx.ops||[],rows:e.ctx.rows||[],row_pages:e.ctx.row_pages||{},selectable:null==e.ctx.selectable||e.ctx.selectable,selected:[],del_info:[],search_args:e.ctx.search_args||{},vc:e,parStore:ex.vueParStore(e)}},mixins:[table_store],watch:{search_args:function(e){console.log(e)}},methods:{}};return{childStore:new Vue(t),parStore:ex.vueParStore(e)}},mounted:function(){this.ctx.event_slots&&ex.vueEventRout(this,this.ctx.event_slots),this.ctx.autoload&&this.childStore.search()},template:'<div class="live-table flex-v" style="position: absolute;top:0;left:0;bottom: 0;right:0;overflow: auto;padding-bottom: 2px;">\n       <div v-if="childStore.row_filters.length > 0" style="background-color: #fbfbf8;padding: 8px 1em;border-radius: 4px;margin-top: 8px">\n            <com-table-filters></com-table-filters>\n        </div>\n        <div  v-if="childStore.ops.length>0 ">\n            <com-table-operations></com-table-operations>\n        </div>\n\n        <div v-if="childStore.parents.length>0">\n            <com-table-parents></com-table-parents>\n        </div>\n        <div class="box box-success flex-v flex-grow" style="margin-bottom: 0">\n            <div class="table-wraper flex-grow" style="position: relative;">\n                \x3c!--<com-table-rows></com-table-rows>--\x3e\n                \x3c!--<div style="position: absolute;top:0;left: 0;bottom: 10px;right: 0;overflow: auto">--\x3e\n                    <component :is="ctx.inn_editor"></component>\n                \x3c!--</div>--\x3e\n               </div>\n        </div>\n        <div style="background-color: white;">\n            <com-table-pagination></com-table-pagination>\n        </div>\n    </div>'};window.live_table_type=n,Vue.component("com-live-table-type",n)},function(e,t){var n={props:["ctx"],basename:"live-table-type",mixins:[live_table_type],data:function(){this.ctx.inn_editor&&(this.ctx.inn_editor="com-table-layout-picture-grid")}};window.live_table_grid=n},function(e,t){var n={props:["head","disabled"],template:' <div class="com-table-op-group-check" style="margin-left: 3px">\n    <el-checkbox-group v-model="myvalue" size="small">\n      <el-checkbox-button v-for="option in head.options" :label="option.value"  :key="option.value">\n        <span v-text="option.label"></span>\n      </el-checkbox-button>\n    </el-checkbox-group>\n    \x3c!--<button :class="norm_class" @click="operation_call()"  :style="head.style" :disabled="disabled">--\x3e\n        \x3c!--<i v-if="head.icon" :class=\'["fa",head.icon]\'></i>--\x3e\n        \x3c!--<span  v-text="head.label"></span>--\x3e\n    \x3c!--</button>--\x3e\n    </div>',data:function(){var e=ex.vueParStore(this);return{myvalue:this.head.init_value||[],enable:!0,parStore:e}},computed:{norm_class:function(){return this.head.class?"btn btn-sm "+this.head.class:"btn btn-sm btn-default"}},watch:{myvalue:function(e,t){ex.eval(this.head.action,{value:e,ps:this.parStore})}},methods:{operation_call:function(){if(this.head.action){if(this.head.row_match&&!this.parStore.check_selected(this.head))return;ex.eval(this.head.action,{ps:this.parStore,head:this.head,self:this})}else this.$emit("operation",this.head.name||this.head.fun)},set_enable:function(e){this.enable=e}}};Vue.component("com-table-op-group-check",n)},function(e,t){var n={props:["head","disabled"],template:' <div class="com-op-table-refresh" style="display: inline-block;margin: 0 1px 0 3px">\n        <select v-model=\'myvalue\' class="form-control input-sm com-filter-select" >\n         <option class="fake-placeholder"  value="" v-text=\'head.label\' ></option>\n        <option v-for=\'option in head.options\' :value="option.value" v-text=\'option.label\'></option>\n    </select>\n    </div>',data:function(){var e=ex.vueParStore(this);return{myvalue:this.head.init_value||"",parStore:e}},computed:{},watch:{myvalue:function(e){var t=this;this.interval_index&&clearInterval(this.interval_index),e&&setInterval((function(){ex.eval(t.head.action,{ps:t.parStore})}),e)}},methods:{}};Vue.component("com-op-table-refresh",n)},function(e,t){Vue.component("com-filter-cascasder",{props:["head","search_args"],template:'<div class="com-filter-cascasder">\n       <el-cascader\n            :show-all-levels="false"\n            v-model="search_args[head.name]"\n            :options="head.options"\n            :props="{checkStrictly: true ,emitPath:false}"\n            size="small"\n            clearable>\n        </el-cascader>\n    </div> '})},function(e,t,n){n(212);var a={props:["head","search_args"],template:'<div class="com-filter-multi-select" :style="{width:head.width}">\n       \x3c!--<el-cascader--\x3e\n            \x3c!--:show-all-levels="false"--\x3e\n            \x3c!--v-model="search_args[head.name]"--\x3e\n            \x3c!--:options="head.options"--\x3e\n            \x3c!--:props="{checkStrictly: true ,emitPath:false}"--\x3e\n            \x3c!--size="small"--\x3e\n            \x3c!--clearable>--\x3e\n        \x3c!--</el-cascader>--\x3e\n \x3c!--<option v-for=\'option in orderBy(options,"label")\' :value="option.value" v-text=\'option.label\'></option>--\x3e\n    <span  class="title-span" v-if="head.show_label"><span  v-text="head.label"></span>:</span>\n       <el-select\n            v-model="search_args[head.name]"\n            multiple\n            collapse-tags\n            style="margin-left: 20px;"\n            size="small"\n            placeholder="请选择">\n            <el-option\n            disabled\n            :label="head.label"\n            :value="undefined"\n            >\n            </el-option>\n            <el-option\n              v-for="option in options"\n              :key="option.value"\n              :label="option.label"\n              :value="option.value">\n            </el-option>\n       </el-select>\n    </div> ',computed:{options:function(){return this.head.ctx_name?named_ctx[this.head.ctx_name]:this.head.options}}};Vue.component("com-filter-multi-select",a)},function(e,t,n){var a=n(213);"string"==typeof a&&(a=[[e.i,a,""]]);n(1)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(0)()).push([e.i,".com-filter-multi-select {\n  position: relative;\n  top: 1px;\n  margin-left: -14px;\n  width: 200px;\n}\n",""])},function(e,t,n){"use strict";n.r(t);n(21),n(22),n(23),n(24),n(27),n(28),n(29),n(30),n(31),n(33),n(34),n(35),n(36);var a={template:'<span @click="edit_me()" class="clickable">\n        <component v-if="head.inn_editor" :is="head.inn_editor" :rowData="rowData" :field="field" :index="index"></component>\n        <span v-else v-text="show_text"  ></span>\n    </span>',props:["rowData","field","index"],created:function(){this.parStore=ex.vueParStore(this);for(var e=this.$parent;!e.heads&&(e=e.$parent););if(e){this.rowData[this.field];this.head=ex.findone(e.heads,{name:this.field})}},computed:{show_text:function(){return this.head.show_label?o[this.head.show_label.fun](this.rowData,this.head.show_label):this.rowData[this.field]}},methods:{edit_me:function(){this.open_layer()},open_layer:function(){var e=this,t=i[this.head.get_row.fun];if(this.head.get_row.kws)var n=this.head.get_row.kws;else n=this.head.get_row;n.director_name=this.head.fields_ctx.director_name,t((function(t){var n=pop_fields_layer(t,e.head.fields_ctx,(function(a){(0,s[e.head.after_save.fun])(e,a,t),layer.close(n)}))}),this.rowData,n)}}};Vue.component("com-table-pop-fields",a);var o={use_other_field:function(e,t){return e[t.other_field]},text_label:function(e,t){return t.text}},i={use_table_row:function(e,t,n){e(t)},get_table_row:function(e,t,n){e(ex.copy(t))},get_with_relat_field:function(e,t,n){var a=n.director_name,o=n.relat_field,i={fun:"get_row",director_name:a};i[o]=t[o];var s=[i];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(s),(function(t){cfg.hide_load(),e(t.get_row)}))}},s={do_nothing:function(e,t,n,a){},update_or_insert:function(e,t,n){e.parStore.update_or_insert(t,n)}},r={template:'<div class="com-table-pop-fields-local">\n        <span  @click="edit_me()" class="clickable">\n        <component v-if="head.inn_editor" :is="head.inn_editor" :rowData="rowData" :field="field" :index="index"></component>\n         <span v-else v-text="show_text"></span>\n         </span>\n    </div>',props:["rowData","field","index"],created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););if(this.table_par=e,e){this.rowData[this.field];this.head=ex.findone(e.heads,{name:this.field})}},computed:{show_text:function(){return this.head.show_label?l[this.head.show_label.fun](this.rowData,this.head.show_label):this.rowData[this.field]}},methods:{edit_me:function(){this.open_layer()},open_layer:function(){var e=this,t={heads:e.table_par.head.fields_heads,ops:[{name:"save",editor:"com-field-op-btn",label:"确定",icon:"fa-save"}],extra_mixin:[]},n=pop_edit_local(e.rowData,t,(function(t){ex.assign(e.rowData,t),layer.close(n)}))}}};Vue.component("com-table-pop-fields-local",r);var l={use_other_field:function(e,t){return e[t.other_field]},text_label:function(e,t){return t.text}},c=(n(37),{data:function(){return{org_value:this.rowData[this.field]}},computed:{is_dirty:function(){return this.rowData[this.field]!=this.org_value}},watch:{"rowData._hash":function(){this.org_value=this.rowData[this.field]}},methods:{on_changed:function(){this.rowData[this.field]==this.org_value?this.$emit("on-custom-comp",{name:"row_changed_undo_act",row:this.rowData}):this.$emit("on-custom-comp",{name:"row_changed",row:this.rowData})}}});n(40);var d={props:["rowData","field","index"],template:'<div :class="[\'com-table-checkbox\',{\'dirty\':is_dirty}]"><input style="width: 100%" @change="on_changed()" type="checkbox" v-model="rowData[field]"></div>',mixins:[c]};Vue.component("com-table-checkbox",d);n(42);n(43);var h={props:["rowData","field","index"],template:'<div :class="[\'com-table-select\',{\'dirty\':is_dirty}]">\n            <el-dropdown trigger="click" placement="bottom" @command="handleCommand">\n                <span class="el-dropdown-link clickable" v-html="show_label"></span>\n                <el-dropdown-menu slot="dropdown">\n                    <el-dropdown-item v-for="op in head.options"\n                    :command="op.value"\n                    :class="{\'crt-value\':rowData[field]==op.value}" >\n                    <div v-text="op.label"></div>\n                    </el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n        </div>\n\n    ',data:function(){return{}},created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););this.table_par=e,this.head=ex.findone(this.table_par.heads,{name:this.field})},mixins:[c],computed:{show_label:function(){var e=this.rowData[this.field],t=ex.findone(this.head.options,{value:e});return t.html_label||t.label}},methods:{handleCommand:function(e){this.rowData[this.field]!=e&&(this.rowData[this.field]=e,this.on_changed())},setSelect:function(e){this.rowData[this.field]!=e&&(this.rowData[this.field]=e,this.on_changed())}}};Vue.component("com-table-select",h);n(45),n(46),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(59),n(60),n(61);var p={template:'<span @click="open_layer()" class="clickable">\n        <component v-if="head.inn_editor" :is="head.inn_editor" :rowData="rowData" :field="field" :index="index"></component>\n        <span v-else v-text="show_text"  ></span>\n    </span>',props:["rowData","field","index"],created:function(){for(var e=this.$parent;!e.heads&&(e=e.$parent););if(e){this.rowData[this.field];this.head=ex.findone(e.heads,{name:this.field})}},computed:{show_text:function(){return this.rowData[this.field]}},methods:{open_layer:function(){var e=init_table_ctx(this.head.table_ctx);pop_table_layer(this.rowData,e,(function(){}))}}};Vue.component("com-table-pop-table",p);n(62),n(65),n(66),n(67),n(70),n(71),n(72),n(73),n(74),n(75),n(78),n(79),n(82),n(83),n(86),n(87),n(88),n(89);var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"com-field-password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.row[e.head.name],expression:"row[head.name]"}],staticClass:"form-control input-sm",attrs:{type:"password",id:"id_"+e.head.name,name:e.head.name,placeholder:e.head.placeholder,readonly:e.head.readonly},domProps:{value:e.row[e.head.name]},on:{input:function(t){t.target.composing||e.$set(e.row,e.head.name,t.target.value)}}})])};f._withStripped=!0;var u=function(e,t,n,a,o,i,s,r){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}({props:["row","head"]},f,[],!1,null,null,null);u.options.__file="field_editor/password.vue";var m=u.exports;Vue.component("com-field-password",m);n(92),n(93),n(94),n(95);n(96);var _={props:["value","readonly","config","name"],data:function(){return{picstr:this.value,pictures:this.value?this.value.split(";"):[],crt_pic:""}},template:'<div class="file-uploader">\n    <div v-if="!readonly">\n        <input v-if="cfg.multiple"  v-show="!cfg.com_btn" class="pic-input" type="file" @change="upload_pictures($event)" :accept="cfg.accept" multiple="multiple">\n        <input v-else v-show="!cfg.com_btn"  class="pic-input" type="file" @change="upload_pictures($event)" :accept="cfg.accept">\n        <input type="text" :name="name" style="display: none" v-model="value">\n    </div>\n\n    <div class="wrap">\n           <a v-for="pic in pictures" :href="pic"><span  v-text="pic"></span></a>\n    </div>\n\n     \x3c!--<component v-if="cfg.com_btn && ! readonly" :is="cfg.com_btn" @click.native="browse()"></component>--\x3e\n\n\n\n    </div>',mounted:function(){var e=this;this.cfg.sortable&&ex.load_js("/static/lib/sortable.min.js",(function(){new Sortable($(e.$el).find(".sortable")[0],{onSort:function(t){e.ajust_order()}})}))},computed:{cfg:function(){var e={upload_url:"/d/upload",accept:"image/*",multiple:!1,sortable:!0,on_click:function(e){window.open(e,"_blank")}};return this.config&&ex.assign(e,this.config),e}},watch:{value:function(e,t){this.picstr!=e&&(this.picstr=e,this.pictures=this.value?this.value.split(";"):[]),this.picstr||$(this.$el).find(".pic-input").val("")}},methods:{browse:function(){$(this.$el).find("input").click()},enter:function(e){this.crt_pic=e},out:function(){this.crt_pic=""},upload_pictures:function(e){var t=this,n=e.target.files;if(0!=n.length){var a=this.cfg.upload_url;cfg.show_load(),fl.uploads(n,a,(function(e){cfg.hide_load(),e&&(t.cfg.multiple?t.add_value(e):t.set_value(e))}))}},set_value:function(e){var t=e.join(";");this.$emit("input",t)},add_value:function(e){var t=this,n=ex.filter(e,(function(e){return!ex.isin(e,t.pictures)})),a=t.pictures.concat(n).join(";");t.$emit("input",a)},ajust_order:function(){for(var e=$(this.$el).find("ul.sortable img"),t=[],n=0;n<e.length;n++){var a=e[n];t.push($(a).attr("src"))}var o=t.join(";");this.picstr=o,this.$emit("input",o)},remove:function(e){var t=this.picstr.split(";");ex.remove(t,(function(t){return e==t}));var n=t.join(";");this.$emit("input",n)},is_image:function(e){var t=this.get_res_type(e);return ex.isin(t.toLowerCase(),["jpg","png","webp","gif","jpeg","ico"])},get_res_type:function(e){var t=/[^.]+$/.exec(e);return t.length>0?t[0]:""},get_res_basename:function(e){var t=/[^/]+$/.exec(e);return t.length,t[0]}}};Vue.component("com-file-uploader-tmp",_),Vue.component("com-field-plain-file",{props:["row","head"],template:'<div><com-file-uploader-tmp :name="head.name" v-model="row[head.name]" :config="head.config" :readonly="head.readonly"></com-file-uploader-tmp></div>'});n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105);var v={props:["row","heads","ops"],mixins:[mix_fields_data,mix_nice_validator],methods:{after_save:function(e){this.$emit("submit-success",e),ex.assign(this.row,e),this.$emit("finish",e)},del_row:function(){var e=this;layer.confirm("真的删除吗?",{icon:3,title:"确认"},(function(t){layer.close(t);var n=layer.load(2),a=[{fun:"del_rows",rows:[e.row]}];$.post("/d/ajax",JSON.stringify(a),(function(t){layer.close(n),e.$emit("del_success",e.row)}))}))}},template:'<div class="flex-v com-pop-fields" style="margin: 0;height: 100%;">\n    <div class = "flex-grow" style="overflow: auto;margin: 0;">\n        <div class="field-panel suit" >\n            <field  v-for="head in normed_heads" :key="head.name" :head="head" :row="row"></field>\n        </div>\n      <div style="height: 1em;">\n      </div>\n    </div>\n     <div style="text-align: right;padding: 8px 3em;">\n        <component v-for="op in normed_ops" :is="op.editor" @operation="on_operation(op)" :head="op"></component>\n    </div>\n     </div>',data:function(){return{fields_kw:{heads:this.heads,row:this.row,errors:{}}}},computed:{normed_ops:function(){var e=this;return ex.filter(this.ops,(function(t){return!t.show||ex.eval(t.show,{row:e.row,vc:e})}))}}};function b(){var e=$(window).width(),t=$(window).height();return[e>1400?"1000px":e>900?"800px":.9*e+"px",t>1200?"800px":t>700?"600px":.9*t+"px"]}window.com_pop_field=v,window.pop_fields_layer=function(e,t,n,a){e=ex.copy(e);var o=t.heads,i=t.ops,s=t.extra_mixins||[];if("string"==typeof t.fieldsPanel)var r=window[t.fieldsPanel]||v;else r=t.fieldsPanel||v;var l=JSON.stringify(r)+JSON.stringify(s),c=md5(l);if(!window["_vue_com_"+c]){s=ex.map(s,(function(e){return"string"==typeof e?window[e]:e}));var d=ex.vueExtend(r,s);Vue.component("com-pop-fields-"+c,d),window["_vue_com_"+c]=!0}var h=(new Date).getTime(),p={type:1,area:b(),title:"详细",resize:!0,zIndex:1e3,resizing:function(e){var t=$("#fields-pop-"+h).parents(".layui-layer").height();$("#fields-pop-"+h).parents(".layui-layer-content").height(t-42)},content:'<div id="fields-pop-'.concat(h,'" style="height: 100%;">\n                    <component :is="\'com-pop-fields-\'+com_id" @del_success="on_del()" @submit-success="on_sub_success($event)"\n                    :row="row" :heads="fields_heads" :ops="ops" ref="field_panel"></component>\n                </div>'),end:function(){ex.remove(cfg.layer_index_stack,f)}};a&&ex.assign(p,a);var f=layer.open(p);return cfg.layer_index_stack.push(f),function(e,a,o,i,s,r){new Vue({el:"#fields-pop-"+e,data:{head:t,has_heads_adaptor:!1,row:a,fields_heads:o,ops:i,com_id:s},mounted:function(){this.childStore=new Vue({data:{fields_obj:this.$refs.field_panel,vc:this},methods:{showErrors:function(e){this.fields_obj.setErrors(e),this.fields_obj.showErrors(e)}}})},methods:{on_sub_success:function(e){n(e,this.childStore,r)}}})}(h,e,o,i,c,f),f},window.pop_table_layer=function(e,t,n,a){var o=(new Date).getTime(),i={type:1,area:b(),title:"列表",resize:!0,resizing:function(e){var t=$("#pop-table-"+o).parents(".layui-layer").height();$("#pop-table-"+o).parents(".layui-layer-content").height(t-42),c.resize(),c.setHeight(t-160)},shadeClose:!0,content:'<div id="pop-table-'.concat(o,'" style="height: 100%;padding-left: 10px">\n\n            <div class="rows-block flex-v" style="height: 100%">\n                <div class=\'flex\' style="min-height: 3em;" v-if="row_filters.length > 0">\n                    <com-filter class="flex" :heads="row_filters" :search_args="search_args"\n                                @submit="search()"></com-filter>\n                    <div class="flex-grow"></div>\n                </div>\n                <div class="box box-success flex-grow flex-v" >\n                    <div class="table-wraper flex-grow" style="position: relative">\n                    <div style="position: absolute;top:0;right:0;left:0;bottom: 0">\n                     <el-table class="table" ref="e_table"\n                                      :data="rows"\n                                      border\n                                      show-summary\n                                      :fit="false"\n                                      :stripe="true"\n                                      size="mini"\n                                      @sort-change="sortChange($event)"\n                                      @selection-change="handleSelectionChange"\n                                      :summary-method="getSum"\n                                      height="100%"\n                                      style="width: 100%">\n                                <el-table-column\n                                        v-if="selectable"\n                                        type="selection"\n                                        width="55">\n                                </el-table-column>\n\n                                <template  v-for="head in heads">\n\n                                    <el-table-column v-if="head.editor"\n                                                     :show-overflow-tooltip="is_show_tooltip(head) "\n                                                     :label="head.label"\n                                                     :sortable="is_sort(head)"\n                                                     :width="head.width">\n                                        <template slot-scope="scope">\n                                            <component :is="head.editor"\n                                                       @on-custom-comp="on_td_event($event)"\n                                                       :row-data="scope.row" :field="head.name" :index="scope.$index">\n                                            </component>\n\n                                        </template>\n\n                                    </el-table-column>\n\n                                    <el-table-column v-else\n                                                     :show-overflow-tooltip="is_show_tooltip(head) "\n                                                     :prop="head.name.toString()"\n                                                     :label="head.label"\n                                                     :sortable="is_sort(head)"\n                                                     :width="head.width">\n                                    </el-table-column>\n\n                                </template>\n\n                            </el-table>\n                     </div>\n\n                    </div>\n                    <div style="margin-top: 10px;">\n                         <el-pagination\n                                @size-change="on_perpage_change"\n                                @current-change="get_page"\n                                :current-page="row_pages.crt_page"\n                                :page-sizes="[20, 50, 100]"\n                                :page-size="row_pages.perpage"\n                                layout="total, sizes, prev, pager, next, jumper"\n                                :total="row_pages.total">\n                        </el-pagination>\n                    </div>\n                </div>\n        </div>\n    </div>')};ex.assign(i,a);var s=layer.open(i);if(t.extra_mixins)var r=ex.map(t.extra_mixins,(function(e){return"string"==typeof e?window[e]:e})),l=[mix_table_data,mix_ele_table_adapter].concat(r);else l=[mix_table_data,mix_ele_table_adapter];null==t.selectable&&(t.selectable=!0);var c=new Vue({el:"#pop-table-"+o,data:{par_row:e,table_ctx:t,heads:t.heads,selectable:t.selectable,row_filters:t.row_filters,row_sort:t.row_sort,director_name:t.director_name,row_pages:{},rows:[],footer:[],selected:[],del_info:[],search_args:t.search_args||{},height:350},mixins:l,mounted:function(){this.getRows();ex.assign(this.op_funs,{send_select:function(e){n(e.row),layer.close(s)}})},methods:{setHeight:function(e){this.height=e}}})},window.pop_layer=function(e,t,n,a){var o=(new Date).getTime(),i={type:1,area:b(),title:e.title||"详细",zIndex:1e3,resize:!0,resizing:function(e){var t=$("#fields-pop-"+o).parents(".layui-layer").height();this.title?$("#fields-pop-"+o).parents(".layui-layer-content").height(t-42):$("#fields-pop-"+o).parents(".layui-layer-content").height(t)},content:'<div id="fields-pop-'.concat(o,'" class="pop-layer" style="height: 100%;width: 100%">\n                    <component :is="component_name" :ctx="com_ctx" @finish="on_finish($event)"></component>\n                </div>'),end:function(){n&&n(null),ex.remove(cfg.layer_index_stack,s)}};a&&ex.assign(i,a);var s=layer.open(i);return cfg.layer_index_stack.push(s),new Vue({el:"#fields-pop-"+o,data:{com_ctx:e,component_name:t},methods:{on_finish:function(e){n&&n(e)}}}),s},n(106);var x={props:["ctx"],data:function(){var e=ex.copy(this.ctx.row||{}),t=new Vue({data:{vc:this}}),n=ex.vueParStore(this);return{head:this.ctx,par_row:this.ctx.par_row,heads:this.ctx.heads,fields_group:this.ctx.fields_group,table_grid:this.ctx.table_grid,ops:this.ctx.ops,errors:{},row:e,org_row:e,childStore:t,parStore:n,ops_loc:this.ctx.ops_loc||"up"}},mixins:[mix_fields_data,mix_nice_validator],template:'<div class="com-form-one flex-v" :class="head.class">\n   <div class="oprations" v-if="ops_loc==\'up\'">\n        <component v-for="op in ops" :is="op.editor" :ref="\'op_\'+op.name" :head="op" @operation="on_operation(op)"></component>\n    </div>\n    <div style="overflow: auto;" class="flex-grow fields-area">\n            \x3c!--有分组的情况--\x3e\n           <div v-if="fields_group" >\n                <div v-for="group in grouped_heads_bucket" :class="\'group_\'+group.name" v-if="group.heads.length > 0">\n\n                         <div class="fields-group-title"  v-html="group.label"></div>\n                        <com-fields-table-block v-if="table_grid "\n                            :heads="group.heads" :row="row" :option="{table_grid:table_grid}">\n                         </com-fields-table-block>\n                         <div v-else class=\'field-panel suit\' >\n                            <field  v-for=\'head in group.heads\' :key="head.name" :head="head" :row=\'row\'></field>\n                        </div>\n                </div>\n        </div>\n        \x3c!--只有table分组--\x3e\n         <div v-else-if="table_grid " >\n                    <com-fields-table-block\n                        :heads="normed_heads" :row="row" :option="{table_grid:table_grid}"></com-fields-table-block>\n         </div>\n         \x3c!--没有分组--\x3e\n        <div v-else class=\'field-panel suit\' id="form" >\n            <field  v-for=\'head in normed_heads\' :key="head.name" :head="head" :row=\'row\'></field>\n        </div>\n    </div>\n    <div class="oprations bottom" v-if="ops_loc==\'bottom\'">\n        <component v-for="op in normed_ops" :is="op.editor" :ref="\'op_\'+op.name" :head="op" @operation="on_operation(op)"></component>\n    </div>\n    </div>',computed:{normed_ops:function(){var e=this;return ex.filter(this.ops,(function(t){return!t.show||ex.eval(t.show,{row:e.row,vc:e})}))},grouped_heads_bucket:function(){var e=this,t=[];return ex.each(this.fields_group,(function(n){if(!n.show||ex.eval(n.show,{row:e.row,head:e.head})){var a=ex.filter(e.normed_heads,(function(e){return ex.isin(e.name,n.heads)}));t.push({name:n.name,label:n.label,heads:a})}})),t}},methods:{group_filter_heads:function(e){return ex.filter(this.normed_heads,(function(t){return ex.isin(t.name,e.heads)}))},data_getter:function(){var e=this;if(e.tab_head.get_data){var t=w[e.tab_head.get_data.fun],n=e.tab_head.get_data.kws;t(e,(function(t){e.org_row=t,e.row=ex.copy(t),e.childStore.$emit("row.update_or_insert",t)}),n)}e.tab_head.get_row&&ex.eval(e.tab_head.get_row,{vc:e})},save:function(){return this.head.save_express?ex.eval(this.head.save_express,{vc:this}):mix_fields_data.methods.save.call(this)}}};Vue.component("com-form-one",x);var w={get_row:function(e,t,n){var a=n.director_name,o=n.relat_field,i={fun:"get_row",director_name:a};i[o]=e.par_row[o],cfg.show_load(),ex.director_call("d.get_row?dname="+a,i).then((function(e){cfg.hide_load(),t(e)}))},table_row:function(e,t,n){t(e.par_row)}};n(3);var g={props:["ctx"],data:function(){return{row:this.ctx.row||{},heads:this.ctx.heads,ops:this.ctx.ops,fields_editor:this.ctx.fields_editor||cfg.fields_editor||com_sim_fields,small:!1,small_srn:ex.is_small_screen(),cssCls:"",crossBtn:this.ctx.crossBtn||"",okBtn:this.ctx.okBtn||"确定"}},mounted:function(){$(this.$el).width()<600?this.small=!0:this.small=!1},methods:{on_finish:function(e){this.$emit("finish",e)}},template:'<div :class="[\'flex-v com-fields-panel\',cssCls,{\'small_srn\':small_srn}]">\n     <component class="msg-bottom" :is="fields_editor" :heads="heads" :row="row" :ok-btn="okBtn"\n       :cross-btn="crossBtn" @finish="on_finish($event)"></component>\n     </div>'};window.com_fields_panel=g,Vue.component("com-fields-panel",g),Vue.component("com-panel-fields",g);n(109),n(110),n(111),n(114);n(3);var y={props:["ctx"],data:function(){var e={okBtn:this.ctx.okBtn||"确定",ops:this.ctx.ops};return this.ctx.option&&ex.assign(e,this.ctx.option),{row:this.ctx.row||{},heads:this.ctx.heads,form:this.ctx.form||cfg.form||com_form,small:!1,small_srn:ex.is_small_screen(),option:e}},mounted:function(){$(this.$el).width()<600?this.small=!0:this.small=!1},methods:{on_finish:function(e){this.$emit("finish",e)}},template:'<div :class="[\'flex-v com-fields-panel\',option.cssCls,{\'small_srn\':small_srn}]">\n     <component class="msg-bottom" :is="form" :heads="heads" :row="row" :option="option" @finish="on_finish($event)"></component>\n     </div>'};window.com_form_panel=y,Vue.component("com-form-panel",y);var k={props:["ctx"],data:function(){return{fields_editor:this.ctx.fields_editor||com_pop_field}},mixins:[g],template:'<div :class="[\'flex-v com-fields-panel\',cssCls,{\'small_srn\':small_srn}]" style="height: 100%">\n     <component class="msg-bottom"  :is="fields_editor" :heads="heads" :row="row" :ops="ops"\n       :cross-btn="crossBtn" @finish="on_finish($event)"></component>\n     </div>'};Vue.component("com-panel-pop-fields",k);n(117),n(120),n(121),n(124);n(4);var S={props:{heads:"",row:"",okBtn:{default:function(){return"确定"}},crossBtn:"",autoWidth:{default:function(){return!0}},btnCls:{default:function(){return"btn-primary btn-sm"}}},data:function(){return{env:cfg.env,small:!1}},mounted:function(){},watch:{},computed:{small_srn:function(){return this.env.width<760},label_width:function(){this.autoWith;var e=4;return ex.each(this.heads,(function(t){e<t.label.length&&(e=t.label.length)})),{width:(e+=1)+"em"}}},components:window._baseInput,mixins:[mix_fields_data,mix_nice_validator],template:' <div :class="[\'field-panel sim-fields\',{\'msg-bottom\':small_srn}]"\n    style="text-align:center;">\n           <table class="table-fields">\n        <tr v-for="head in normed_heads">\n            <td class="field-label-td"  valign="top" >\n            <div class="field-label" :style="label_width">\n                <span class="label-content">\n                     <span v-text="head.label"></span>\n                     <span class="req_star" v-if=\'head.required\'>*</span>\n                </span>\n            </div>\n\n            </td>\n            <td class="field-input-td" >\n                <div class="field-input">\n                    <component v-if="head.editor" :is="head.editor"\n                         @field-event="$emit(\'field-event\',$event)"\n                         :head="head" :row="row"></component>\n\n                </div>\n            </td>\n            <td>\n                <span v-if="head.help_text" class="help-text clickable">\n                            <i style="color: #3780af;position: relative;top:10px;"   @click="show_msg(head.help_text,$event)" class="fa fa-question-circle" ></i>\n                </span>\n            </td>\n        </tr>\n        <slot :row="row">\n            \x3c!--按钮横跨两列 ！小尺寸时 强制 --\x3e\n             <tr v-if="crossBtn || small_srn" class="btn-row">\n                <td class="field-input-td" colspan="3">\n                    <div class="submit-block">\n                        <button @click="panel_submit" type="btn"\n                            :class="[\'form-control btn\',btnCls]"><span v-text="okBtn"></span></button>\n                    </div>\n                </td>\n            </tr>\n            \x3c!--按钮在第二列--\x3e\n               <tr v-else class="btn-row">\n                   <td class="field-label-td"></td>\n                    <td class="field-input-td" colspan="1">\n                        <div class="submit-block">\n                            <button @click="panel_submit" type="btn"\n                                :class="[\'btn\',btnCls]"><span v-text="okBtn"></span></button>\n                        </div>\n                     </td>\n                     <td></td>\n               </tr>\n        </slot>\n\n    </table>\n\n\n        </div>',methods:{update_small:function(){var e=this;$(e.$el).width()<450?e.small=!0:e.small=!1,setTimeout((function(){e.update_nice()}),100)},panel_submit:function(){this.$listeners&&this.$listeners.submit?this.isValid()&&this.$emit("submit",this.row):this.submit()},show_msg:function(e,t){layer.tips(e,t.target)},after_save:function(e){this.$emit("after-save",e)}}};window.com_sim_fields=S,Vue.component("com-sim-fields",S);var V={mixins:[S],methods:{submit:function(){this.isValid()&&this.$emit("finish",this.row)}}};window.com_sim_fields_local=V,Vue.component("com-sim-fields-local",V);n(126),n(127),n(130),n(131),n(132),n(135),n(138),n(140),n(141),n(142),n(143),n(146),n(147);n(4);var D={props:{heads:"",row:"",options:{}},data:function(){return{okBtn:this.option.okBtn||"确定",small_srn:ex.is_small_screen(),small:!1}},mounted:function(){setTimeout((function(){$(this.$el).width()<600?this.small=!0:this.small=!1}),10)},computed:{normed_heads:function(){return this.heads},label_width:function(){this.autoWith;var e=4;return ex.each(this.heads,(function(t){e<t.label.length&&(e=t.label.length)})),{width:(e+=1)+"em"}}},components:window._baseInput,mixins:[mix_fields_data,mix_nice_validator],template:' <div :class="[\'field-panel sim-fields\',{\'small\':small,\'msg-bottom\':small}]"\n    style="text-align:center;">\n           <table class="table-fields">\n        <tr v-for="head in heads">\n            <td class="field-label-td"  valign="top" >\n            <div class="field-label" :style="label_width">\n                <span class="label-content">\n                     <span v-text="head.label"></span>\n                     <span class="req_star" v-if=\'head.required\'>*</span>\n                </span>\n\n\n            </div>\n\n            </td>\n            <td class="field-input-td" >\n                <div class="field-input">\n                    <component v-if="head.editor" :is="head.editor"\n                         @field-event="$emit(\'field-event\',$event)"\n                         :head="head" :row="row"></component>\n\n                </div>\n            </td>\n            <td>\n                <span v-if="head.help_text" class="help-text clickable">\n                            <i style="color: #3780af;position: relative;top:10px;"   @click="show_msg(head.help_text,$event)" class="fa fa-question-circle" ></i>\n                </span>\n            </td>\n        </tr>\n        <slot :row="row">\n            \x3c!--按钮横跨两列 ！小尺寸时 强制 --\x3e\n             <tr v-if="crossBtn || small" class="btn-row">\n                <td class="field-input-td" colspan="3">\n                    <div class="submit-block">\n                        <button @click="submit" type="btn"\n                            :class="[\'form-control btn\',btnCls]"><span v-text="okBtn"></span></button>\n                    </div>\n                </td>\n            </tr>\n            \x3c!--按钮在第二列--\x3e\n               <tr v-else class="btn-row">\n                   <td class="field-label-td"></td>\n                    <td class="field-input-td" colspan="1">\n                        <div class="submit-block">\n                            <button @click="panel_submit" type="btn"\n                                class="btn "><span v-text="okBtn"></span></button>\n                        </div>\n                     </td>\n                     <td></td>\n               </tr>\n        </slot>\n\n    </table>\n\n\n        </div>',methods:{panel_submit:function(){this.$listeners&&this.$listeners.submit?this.isValid()&&this.$emit("submit",this.row):this.submit()},show_msg:function(e,t){layer.tips(e,t.target)},after_save:function(e){this.$emit("after-save",e)}}};window.com_form=D,Vue.component("com-form",D);var C={props:["row","heads","ops"],mixins:[S],template:'<div class="flex-v" style="margin: 0;height: 100%;">\n    <div class = "flex-grow" style="overflow: auto;margin: 0;">\n        <div class="field-panel suit" >\n            <field  v-for="head in normed_heads" :key="head.name" :head="head" :row="row"></field>\n        </div>\n      <div style="height: 1em;">\n      </div>\n    </div>\n    <slot>\n         <div style="text-align: right;padding: 8px 3em;">\n         <button @click="submit" type="btn"\n                            :class="[\'btn\',btnCls]"><span v-text="okBtn">保存</span></button>\n        \x3c!--<component v-for="op in ops" :is="op.editor" @operation="on_operation(op)" :head="op"></component>--\x3e\n        </div>\n    </slot>\n\n     </div>'};Vue.component("com-suit-fields",C);var j={mixins:[C],methods:{submit:function(){this.isValid()&&this.$emit("finish",this.row)}}};window.suit_fields_local=j,Vue.component("com-suit-fields-local",j);n(148);var O={mixins:[a],methods:{open_layer:function(){var e=this,t=this.rowData[this.head.ctx_field],n=named_ctx[t],a=z[n.get_row.fun];if(n.get_row.kws)var o=n.get_row.kws;else o=n.get_row;o.director_name=n.fields_ctx.director_name,a((function(t){var a=pop_fields_layer(t,n.fields_ctx,(function(o){(0,N[n.after_save.fun])(e,o,t),layer.close(a)}))}),this.rowData,o)}}};Vue.component("com-table-pop-fields-from-row",O);var z={use_table_row:function(e,t,n){e(t)},get_table_row:function(e,t,n){e(ex.copy(t))},get_with_relat_field:function(e,t,n){var a=n.director_name,o=n.relat_field,i={fun:"get_row",director_name:a};i[o]=t[o];var s=[i];cfg.show_load(),ex.post("/d/ajax",JSON.stringify(s),(function(t){cfg.hide_load(),e(t.get_row)}))}},N={do_nothing:function(e,t,n,a){},update_or_insert:function(e,t,n){e.parStore.update_or_insert(t,n)}},P=(n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(164),n(167),n(168),n(171),n(172),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(187),n(188),n(189),n(190),n(193),n(196),n(197),n(200),n(201),n(203),n(204),n(205),n(206),{props:["ctx"],basename:"live-fields",mixins:[x]});window.live_fields=P;n(207),n(208),n(209),n(210),n(211);n(7),n(9),n(11),n(13),n(15),n(17),n(19)}]);